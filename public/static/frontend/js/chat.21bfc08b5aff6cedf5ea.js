webpackJsonp([15],{"+cD3":function(t,e,n){"use strict";(function(t){var i=n("7+uW"),s=n("/ocq"),a=n("Cxcp");i.default.use(s.a);var o=new s.a({mode:"history",base:t,routes:a.a});e.a=o}).call(e,"/")},0:function(t,e){},"8maL":function(t,e){},"9peO":function(t,e){},Cxcp:function(t,e,n){"use strict";function i(t){n("qYpK")}function s(t){n("9peO"),n("8maL")}var a=n("Dd8w"),o=n.n(a),r=n("NYxO"),c=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),u="ontouchstart"in window,l=u?{down:"touchstart",move:"touchmove",up:"touchend",over:"touchstart",out:"touchend"}:{down:"mousedown",move:"mousemove",up:"mouseup",over:"mouseover",out:"mouseout"},d={props:{width:Number,action:Object,enable:Boolean,container:Object},data:function(){return{pos:0,visible:!1,moving:!1,willChange:!1}},methods:{handleMaskClick:function(){this.moving||this.$emit("mask-click")}},watch:{action:function(t){this.visible=t.visible,this.pos=t.visible?this.width:0,this.moving=!0}},computed:{opacity:function(){return.4*this.pos/this.width||0}},mounted:function(){var t=this,e=document,n=this.width,i=void 0,s=void 0,a=void 0,o=void 0,r=void 0,u=void 0,d=void 0,h=void 0,v=void 0,m=void 0,f=function(t){this.enable&&(this.willChange=!0,m=void 0,u=o=t.clientX||t.changedTouches[0].clientX,r=t.clientY||t.changedTouches[0].clientY,s=+new Date,v=this.pos,e.addEventListener(l.move,p,!!c&&{passive:!0}),e.addEventListener(l.up,g,!!c&&{passive:!0}),this.$emit("slide-start",this.pos))}.bind(this),p=function(t){i=s,s=+new Date,h=u,u=t.clientX||t.changedTouches[0].clientX,d=t.clientY||t.changedTouches[0].clientY,a=(u-h)/(s-i);var e=v+u-o;e=Math.min(n,e),e=Math.max(0,e),void 0===m&&(m=Math.abs(d-r)/Math.abs(u-o)>Math.sqrt(3)/3),m||(c||t.preventDefault(),this.pos=e,this.$emit("slide-move",e))}.bind(this),g=function(t){if(void 0!==m)if(m)this.pos=this.visible?n:0;else{var i=this.pos;this.visible=a>0?(n-i)/a<500||i>3*n/5:!((0-i)/a<500||i<3*n/5),this.pos>0&&this.pos<n&&(this.moving=!0),this.pos=this.visible?n:0}this.moving||(this.willChange=!1),m=void 0,e.removeEventListener(l.move,p,!!c&&{passive:!0}),e.removeEventListener(l.up,g,!!c&&{passive:!0})}.bind(this);"transitionend webkitTransitionEnd msTransitionEnd otransitionend oTransitionEnd".split(" ").forEach(function(e){t.$el.addEventListener(e,function(){t.moving=!1,t.willChange=!1,t.pos=t.visible?n:0},!1)}),e.addEventListener(l.down,f,!!c&&{passive:!0})}},h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"side-menu"},[n("div",{staticClass:"menu-wrap",class:{moving:t.moving,"will-change":t.willChange},style:{width:t.width+"px",left:"-"+Math.ceil(t.width/3)+"px",transform:"translate3d("+Math.ceil(t.pos/3)+"px,0,0)"}},[t._t("menu")],2),t._v(" "),n("div",{staticClass:"content-wrap",class:{moving:t.moving,"will-change":t.willChange},style:{transform:"translate3d("+t.pos+"px,0,0)"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.pos,expression:"pos"}],staticClass:"menu-mask",style:{opacity:t.opacity},on:{click:t.handleMaskClick}}),t._v(" "),t._t("content")],2)])},v=[],m={render:h,staticRenderFns:v},f=m,p=n("VU/8"),g=i,_=p(d,f,!1,g,"data-v-11c1504f",null),w=_.exports,E=history.state,S="forward",b={data:function(){return{width:Math.floor(.8*document.body.clientWidth),transitionName:"slide-forward"}},watch:{$route:function(t,e){var n="";n=E||history.state?history.state&&!E?"forward":E&&!history.state?"back":E&&+E.key>+history.state.key?"back":E&&+E.key==+history.state.key?"back"===S?"forward":"back":"forward":"forward",this.transitionName="slide-"+n,E=history.state||E,S=n}},methods:{handleMaskClick:function(){this.$store.dispatch("SWITCH_SIDE_MENU",!1)},handleSlideStart:function(t){},handleSlideMove:function(t){},handleSlideEnd:function(t,e){}},components:{ChatSideMenu:w},computed:o()({},Object(r.b)(["sideMenuEnable","sideMenuAction"]))},C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app"},[n("chat-side-menu",{ref:"menu",attrs:{width:t.width,action:t.sideMenuAction,enable:t.sideMenuEnable},on:{"slide-start":t.handleSlideStart,"slide-move":t.handleSlideMove,"slide-end":t.handleSlideEnd,"mask-click":t.handleMaskClick}},[n("div",{staticClass:"menu-content",attrs:{slot:"menu"},slot:"menu"},[n("div",{staticClass:"menu-user-wrap"},[n("div",{staticClass:"user-info"},[n("div",{staticClass:"avatar-wrap"},[n("img",{attrs:{src:"//static.codehuang.com/upload/avatars/default.png"}}),t._v(" "),n("div",{staticClass:"user-name"},[t._v("老夫子Alexander")])])]),t._v(" "),n("a",{staticClass:"qrcode",attrs:{href:"javascript:;"}},[n("i",{staticClass:"c-icon-qrcode"})])]),t._v(" "),n("div",{staticClass:"menu-item-list"},[n("router-link",{staticClass:"menu-item",attrs:{to:"/vip"}},[n("i",{staticClass:"c-icon-vip"}),t._v("激活会员")]),t._v(" "),n("router-link",{staticClass:"menu-item",attrs:{to:"/wallet"}},[n("i",{staticClass:"c-icon-wallet"}),t._v("QQ钱包")]),t._v(" "),n("router-link",{staticClass:"menu-item",attrs:{to:"/vip"}},[n("i",{staticClass:"c-icon-drawing-board"}),t._v("个性装扮")]),t._v(" "),n("router-link",{staticClass:"menu-item",attrs:{to:"/collect"}},[n("i",{staticClass:"c-icon-collect"}),t._v("我的收藏")]),t._v(" "),n("router-link",{staticClass:"menu-item",attrs:{to:"/album"}},[n("i",{staticClass:"c-icon-image"}),t._v("我的相册")]),t._v(" "),n("router-link",{staticClass:"menu-item",attrs:{to:"/file"}},[n("i",{staticClass:"c-icon-file"}),t._v("我的文件")]),t._v(" "),n("router-link",{staticClass:"menu-item",attrs:{to:"/vip"}},[n("i",{staticClass:"c-icon-signal"}),t._v("免流量特权")])],1),t._v(" "),n("div",{staticClass:"menu-foot"},[n("router-link",{staticClass:"menu-foot-button",attrs:{to:"/setting"}},[n("i",{staticClass:"c-icon-setting"}),t._v("设置")]),t._v(" "),n("a",{staticClass:"menu-foot-button",attrs:{href:"javascript:void(0);"}},[n("i",{staticClass:"c-icon-moon"}),t._v("夜间")])],1),t._v(" "),n("div",{staticClass:"menu-weather"},[n("div",{staticClass:"weather-temperature"},[t._v("18"),n("span",[t._v("°")])]),t._v(" "),n("div",{staticClass:"weather-district"},[t._v("福州")])])]),t._v(" "),n("transition",{attrs:{slot:"content",name:t.transitionName},slot:"content"},[n("router-view",{staticClass:"main-content"})],1)],1)],1)},M=[],y={render:C,staticRenderFns:M},k=y,I=n("VU/8"),T=s,N=I(b,k,!1,T,"data-v-01ab9ebf",null),D=N.exports,A=function(t){return n.e(0).then(function(){var e=[n("D9sZ")];t.apply(null,e)}.bind(this)).catch(n.oe)},O=function(t){return n.e(3).then(function(){var e=[n("7la1")];t.apply(null,e)}.bind(this)).catch(n.oe)},U=function(t){return n.e(1).then(function(){var e=[n("xJkm")];t.apply(null,e)}.bind(this)).catch(n.oe)},x=function(t){return n.e(2).then(function(){var e=[n("GpND")];t.apply(null,e)}.bind(this)).catch(n.oe)},L=function(t){return n.e(7).then(function(){var e=[n("J1ah")];t.apply(null,e)}.bind(this)).catch(n.oe)};e.a=[{path:"/sign",name:"sign",component:L},{path:"",component:D,meta:{auth:!1},children:[{path:"",component:{template:"<div><router-view></router-view></div>"},children:[{path:"message",name:"message",component:A},{path:"contact",name:"contact",component:U},{path:"activity",name:"activity",component:x}]},{path:"message/:mid",name:"messageDetail",component:O}]}]},YkRm:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("router-view")},s=[],a={render:i,staticRenderFns:s},o=a,r=n("VU/8"),c=r(null,o,!1,null,null,null);e.a=c.exports},fwBT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n("uMhA"),n("MU8w"),n("rplX"),n("7+uW")),s=n("YkRm"),a=n("+cD3"),o=n("NYxO"),r=n("mvHQ"),c=n.n(r),u=n("vLgD"),l={get:function(t){return Object(u.a)({method:"get",url:"/api/sessions",data:t})}},d=l,h={SET_SKIN:function(t,e){var n=t.commit,i=(t.dispatch,t.state,e.skin),s=JSON.parse(localStorage.getItem("systemSetting")||0);s?(s.skin=i,localStorage.setItem("systemSetting",c()(s))):s={skin:i},localStorage.setItem("systemSetting",c()(s)),n("SET_SKIN",i)},GET_SKIN:function(t){var e=t.commit,n=(t.dispatch,t.state,JSON.parse(localStorage.getItem("systemSetting")||0));console.log(n),n&&e("SET_SKIN",n.skin)},GET_SESSION:function(t){var e=t.commit,n=(t.dispatch,t.state);d.get(n.auth).then(function(t){e("SET_SESSION",t)})},SET_NAVIGATION_DIRECTION:function(t,e){var n=t.commit;t.dispatch,t.state;n("SET_NAVIGATION_DIRECTION",e.direction)},SWITCH_SIDE_MENU:function(t,e){var n=t.commit;t.dispatch,t.state;n("SWITCH_SIDE_MENU",e)},UPDATE_SIDE_MENU_VISIBLE_STATUS:function(t,e){var n=t.commit;t.dispatch,t.state;n("UPDATE_SIDE_MENU_VISIBLE_STATUS",e)},SET_SIDE_MENU_ENABLE:function(t,e){var n=t.commit;t.dispatch,t.state;n("SET_SIDE_MENU_ENABLE",e)}},v={getShowMenu:function(t,e){return t.showMenu},getSkin:function(t,e){return t.skin},getSession:function(t,e){return t.session},transitionName:function(t,e){return"slide-"+t.navigationDirection},sideMenuVisible:function(t){return t.sideMenu.visible},sideMenuEnable:function(t){return t.sideMenu.enable},sideMenuAction:function(t){return t.sideMenu.action}},m={SET_NAVIGATION_DIRECTION:function(t,e){t.navigationDirection=e},SWITCH_SIDE_MENU:function(t,e){t.sideMenu.action={visible:e}},SET_SIDE_MENU_ENABLE:function(t,e){t.sideMenu.enable=e},UPDATE_SIDE_MENU_VISIBLE_STATUS:function(t,e){t.sideMenu.nowVisible=e}},f={skin:"green",auth:null,session:null,navigationDirection:"forward",sideMenu:{nowVisible:!1,enable:!0,action:null}};i.default.use(o.a);var p=new o.a.Store({state:f,actions:h,getters:v,mutations:m});n("hcNg");n("v5o6").attach(document.body),i.default.config.productionTip=!1,i.default.filter("time",function(t,e){var n=void 0;return n="number"==typeof t?new Date(t):new Date(t.replace(/-/g,"/")),e.replace(/HH/g,n.getHours()).replace(/hh/g,n.getHours()>12?n.getHours()-12:n.getHours()).replace(/mm/g,("00"+n.getMinutes()).substr(("00"+n.getMinutes()).length-2,2)).replace(/ss/g,n.getSeconds())}),new i.default({router:a.a,store:p,render:function(t){return t(s.a)}}).$mount("#app")},hcNg:function(t,e){Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(t){if(null==this)throw new TypeError("this is null or not defined");for(var e=Object(this),n=e.length>>>0,i=arguments[1],s=i>>0,a=s<0?Math.max(n+s,0):Math.min(s,n),o=arguments[2],r=void 0===o?n:o>>0,c=r<0?Math.max(n+r,0):Math.min(r,n);a<c;)e[a]=t,a++;return e}})},qYpK:function(t,e){},uMhA:function(t,e){},vLgD:function(t,e,n){"use strict";var i=n("//Fk"),s=n.n(i),a=n("mvHQ"),o=n.n(a),r=n("woOf"),c=n.n(r),u=n("fZjL"),l=n.n(u),d=n("Zrlr"),h=n.n(d),v=n("wxAW"),m=n.n(v),f=function(){function t(){var e=this;h()(this,t),this.defaults={method:"get",headers:{Accept:"application/json"}},this.defaultsMethodHeaders={},["delete","get","head"].forEach(function(t){e.defaultsMethodHeaders[t]={}}),["post","put","patch"].forEach(function(t){e.defaultsMethodHeaders[t]={"Content-Type":"application/json;charset=utf-8"}})}return m()(t,[{key:"_formatQueryString",value:function(t){return l()(t).filter(function(e){return void 0!==t[e]}).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}},{key:"get",value:function(t){return this.request({url:t})}},{key:"post",value:function(t,e){return this.request({url:t,data:e,method:"post"})}},{key:"request",value:function(t){t=c()({},this.defaults,t),t.method=t.method.toLowerCase(),!1===t.cache&&(t.params=t.params||{},t.params._=+new Date);var e=t.url+(t.params?(~t.url.indexOf("?")?"&":"?")+this._formatQueryString(t.params):""),n={method:t.method,headers:c()({},t.headers,this.defaultsMethodHeaders[t.method]),body:o()(t.data)};return new s.a(function(t,i){fetch(e,n).then(function(e){t(e.json())})})}}]),t}(),p=new f;e.a=p.request.bind(p)}},["fwBT"]);
//# sourceMappingURL=chat.21bfc08b5aff6cedf5ea.js.map