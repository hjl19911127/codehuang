{"version":3,"sources":["webpack:///./src/utils/async-tree.js","webpack:///src/sites/admin/components/header.vue","webpack:///./src/sites/admin/components/header.vue","webpack:///./src/sites/admin/components/header.vue?c205","webpack:///src/sites/admin/components/menu.vue","webpack:///./src/sites/admin/components/menu.vue","webpack:///src/sites/admin/views/layout.vue","webpack:///./src/sites/admin/components/menu.vue?7e4a","webpack:///./src/sites/admin/views/layout.vue","webpack:///./src/sites/admin/views/layout.vue?b44d","webpack:///./src/sites/admin/views/about.vue","webpack:///./src/sites/admin/views/about.vue?32db","webpack:///./src/sites/admin/router/routes.js","webpack:///./src/utils/localstorage.js","webpack:///./src/sites/admin/store/actions.js","webpack:///./src/sites/admin/store/index.js","webpack:///./src/sites/admin/store/state.js","webpack:///./src/sites/admin/store/getters.js","webpack:///./src/sites/admin/store/mutations.js","webpack:///./src/sites/admin/main.js","webpack:///./src/app.vue?0407","webpack:///./src/app.vue","webpack:///./src/sites/admin/router/index.js","webpack:///./src/sites/admin/api/menu.js","webpack:///./src/utils/request.js"],"names":["asyncTree","arrayToTree","data","arguments","length","undefined","idKey","pidKey","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default","a","resolve","reject","map","tree","forEach","v","children","parent_title","title","push","treeToArray","id","pid","localStorage","setItem","key","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","value","LocalStorage","get","then","Error","catch","e","__webpack_exports__","header","Object","__vue_styles__","context","__webpack_require__","components_header","component_normalizer","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","icon","size","plain","on","click","toggleMenuCollapse","_v","_s","username","src","avatar","slot","divided","menu","MenuTreeItem","props","item","h","route","computed","extends_default","vuex_esm","path","menu___vue_styles__","AdminHeader","AdminMenu","default-active","activeIndex","default-openeds","defaultOpeneds","router","collapse","isCollapse","background-color","text-color","active-text-color","select","handleSelect","open","handleOpen","close","handleClose","init","layout___vue_styles__","views_layout","layout","session","separator","to","views_about","_m","href","articleEdit","__WEBPACK_AMD_REQUIRE_ARRAY__","bind","oe","name","component","localstorage","promise_default","JSON","parse","getItem","stringify_default","GET_MENU","_ref","_ref2","commit","dispatch","state","STORAGE_PREFIX","api_menu","query","no_root","is_enabled","res","lodash_default","keyBy","async_tree","TOGGLE_MENU_COLLAPSE","_ref3","GET_SESSION","_ref4","auth","vue_esm","use","store","Store","actions","getters","menuCollapse","activeMenu","parent_id","mutations","SET_SESSION","SET_MENU","SET_MENU_MAP","SET_MENU_COLLAPSE","SET_ROUTE","config","productionTip","element_ui_common_default","render","app","$mount","Component","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","mode","base","__dirname","scrollBehavior","y","routes","__WEBPACK_IMPORTED_MODULE_2__routes__","url","__WEBPACK_IMPORTED_MODULE_0__utils_request__","method","params","cache","create","update","remove","ajaxHelper","AjaxHelper","_this","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_classCallCheck___default","defaults","headers","Accept","defaultsMethodHeaders","Content-Type","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_keys___default","filter","encodeURIComponent","join","request","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default","toLowerCase","Date","indexOf","_formatQueryString","option","body","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","fetch","console","log","json"],"mappings":"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","file":"static/frontend/js/admin.f2927a4e32203a89f3ed.js","sourcesContent":["const asyncTree = {\r\n  arrayToTree(data = [], idKey = 'id', pidKey = 'parent_id') {\r\n    return new Promise((resolve, reject) => {\r\n      let map = {}, tree = [];\r\n      data.forEach((v) => {\r\n        v.children = [];\r\n        map[v[idKey]] = v;\r\n      });\r\n      data.forEach((v) => {\r\n        if (map[v[pidKey]]) {\r\n          v.parent_title = map[v[pidKey]].title;\r\n          map[v[pidKey]].children.push(v);\r\n        } else {\r\n          tree.push(v);\r\n        }\r\n      });\r\n      resolve(tree);\r\n    })\r\n  },\r\n  treeToArray(data, id, pid) {\r\n    return new Promise((resolve, reject) => {\r\n      localStorage.setItem(key, JSON.stringify(value));\r\n      LocalStorage.get(key).then((data) => {\r\n        if (data) resolve(data);\r\n        else throw new Error();\r\n      }).catch((e) => {\r\n        reject(e);\r\n      })\r\n\r\n    })\r\n  }\r\n};\r\n\r\nexport default asyncTree;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/async-tree.js","<template>\r\n  <div class=\"header\">\r\n    <el-button icon=\"el-icon-d-arrow-left\" size=\"mini\" plain @click=\"toggleMenuCollapse\"/>\r\n    <div class=\"user\">\r\n      <el-dropdown>\r\n        <span class=\"user-name el-dropdown-link\">\r\n          {{data.username}}<img class=\"user-avatar\" :src=\"data.avatar\">\r\n        </span>\r\n        <el-dropdown-menu slot=\"dropdown\">\r\n          <el-dropdown-item>个人资料</el-dropdown-item>\r\n          <el-dropdown-item>修改密码</el-dropdown-item>\r\n          <el-dropdown-item divided>退出登录</el-dropdown-item>\r\n        </el-dropdown-menu>\r\n      </el-dropdown>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {}\r\n    },\r\n    methods: {\r\n      toggleMenuCollapse() {\r\n        this.$store.dispatch('TOGGLE_MENU_COLLAPSE')\r\n      }\r\n    },\r\n    props: {\r\n      data: Object\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n  .header\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0\r\n    left: 0;\r\n    height: 70px;\r\n    line-height: 70px\r\n    padding 0 20px\r\n    background-color: #F2F6FC\r\n\r\n  .logo\r\n    width: 240px;\r\n    text-align center;\r\n    float: left;\r\n    height: 100%;\r\n    img\r\n      vertical-align middle;\r\n    &:before\r\n      content: \"\";\r\n      display: inline-block;\r\n      vertical-align middle;\r\n      height: 100%;\r\n\r\n  .user\r\n    float: right;\r\n    padding-right 40px;\r\n    .user-name\r\n      display: inline-block;\r\n      line-height: 70px;\r\n      cursor: pointer;\r\n    .user-avatar\r\n      width: 40px\r\n      height: 40px\r\n      border-radius: 50%;\r\n      vertical-align middle;\r\n      margin-left: 10px;\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/sites/admin/components/header.vue","function injectStyle (context) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4a6220c1\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./header.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./header.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./header.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4a6220c1\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4a6220c1\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sites/admin/components/header.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('el-button',{attrs:{\"icon\":\"el-icon-d-arrow-left\",\"size\":\"mini\",\"plain\":\"\"},on:{\"click\":_vm.toggleMenuCollapse}}),_vm._v(\" \"),_c('div',{staticClass:\"user\"},[_c('el-dropdown',[_c('span',{staticClass:\"user-name el-dropdown-link\"},[_vm._v(\"\\n        \"+_vm._s(_vm.data.username)),_c('img',{staticClass:\"user-avatar\",attrs:{\"src\":_vm.data.avatar}})]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',[_vm._v(\"个人资料\")]),_vm._v(\" \"),_c('el-dropdown-item',[_vm._v(\"修改密码\")]),_vm._v(\" \"),_c('el-dropdown-item',{attrs:{\"divided\":\"\"}},[_vm._v(\"退出登录\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4a6220c1\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/sites/admin/components/header.vue\n// module id = null\n// module chunks = ","<template>\n  <el-menu\n    class=\"menu\"\n    :default-active=\"activeIndex\"\n    :default-openeds=\"defaultOpeneds\"\n    :router=\"true\"\n    @select=\"handleSelect\"\n    @open=\"handleOpen\"\n    @close=\"handleClose\"\n    :collapse=\"menu.isCollapse\"\n    background-color=\"#545c64\"\n    text-color=\"#fff\"\n    active-text-color=\"#ffd04b\">\n    <menu-tree-item :data=\"menu.tree\"/>\n  </el-menu>\n</template>\n<script type=\"text/jsx\">\n  import {mapGetters} from 'vuex';\n\n  const MenuTreeItem = {\n    name: 'menu-tree-item',\n    functional: true,\n    render(h, context) {\n      return (\n        context.props.data.map(item => {\n          if (item.children.length)\n            return <el-submenu index={`${item.id}`}>\n              <template slot=\"title\">\n                <i class=\"el-icon-menu\"/>\n                <span slot=\"title\">{item.title}</span>\n              </template>\n              <menu-tree-item data={item.children}/>\n            </el-submenu>\n          else\n            return <el-menu-item index={item.route}>\n              <i class=\"el-icon-menu\"/>\n              <span slot=\"title\">{item.title}</span>\n            </el-menu-item>\n        })\n      )\n    }\n  };\n\n  export default {\n    components: {\n      MenuTreeItem\n    },\n    computed: {\n      ...mapGetters([\n        'menu',\n        'activeIndex',\n        'defaultOpeneds'\n      ]),\n    },\n    methods: {\n      handleSelect(obj, path) {\n      },\n      handleOpen() {\n\n      },\n      handleClose() {\n\n      }\n    },\n    created() {\n      this.$store.dispatch('GET_MENU', {route: this.$route.path});\n    }\n  };\n</script>\n\n<style lang=\"stylus\" scoped>\n  .menu\n    height 100%;\n    &:not(.el-menu--collapse)\n      width: 100%\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/sites/admin/components/menu.vue","function injectStyle (context) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c718c928\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./menu.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./menu.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./menu.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c718c928\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./menu.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c718c928\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sites/admin/components/menu.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"container\">\r\n    <div class=\"menu-wrap\">\r\n      <admin-menu/>\r\n    </div>\r\n    <div class=\"main-wrap\">\r\n      <admin-header :data=\"session\"/>\r\n      <div class=\"content-wrap\">\r\n        <el-row class=\"breadcrumb-wrap\">\r\n          <el-breadcrumb class=\"breadcrumb\" separator=\"/\">\r\n            <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n            <el-breadcrumb-item>活动管理</el-breadcrumb-item>\r\n            <el-breadcrumb-item>活动列表</el-breadcrumb-item>\r\n            <el-breadcrumb-item>活动详情</el-breadcrumb-item>\r\n          </el-breadcrumb>\r\n        </el-row>\r\n        <el-row class=\"page-wrap\">\r\n          <router-view/>\r\n        </el-row>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  import {mapGetters} from 'vuex';\r\n  import AdminHeader from '@/sites/admin/components/header';\r\n  import AdminMenu from '@/sites/admin/components/menu';\r\n\r\n  export default {\r\n    components: {\r\n      AdminHeader,\r\n      AdminMenu\r\n    },\r\n    computed: {\r\n      ...mapGetters([\r\n        'session'\r\n      ])\r\n    },\r\n    methods: {\r\n      init() {\r\n      }\r\n    },\r\n    created() {\r\n      this.init();\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"stylus\">\r\n  .main-wrap\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0\r\n    bottom: 0\r\n    left: 240px\r\n\r\n  .menu-wrap\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0\r\n    bottom: 0\r\n    width: 240px\r\n\r\n  .content-wrap\r\n    position: absolute;\r\n    top: 70px;\r\n    right: 0\r\n    bottom: 0\r\n    left: 0;\r\n\r\n  .breadcrumb-wrap\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0\r\n    left: 0\r\n    height: 40px;\r\n    background-color: #F9FAFC;\r\n    padding 0 25px\r\n    &:before\r\n      content \"\";\r\n      display: inline-block;\r\n      height 100%;\r\n      vertical-align middle;\r\n    .breadcrumb\r\n      display: inline-block;\r\n      vertical-align middle;\r\n\r\n  .page-wrap\r\n    position: absolute;\r\n    top: 40px;\r\n    right: 0\r\n    left: 0\r\n    bottom: 0\r\n    padding: 30px 30px 0;\r\n    overflow: auto;\r\n    min-width 1000px;\r\n\r\n  .toolbar\r\n    background-color: #f2f2f2;\r\n    padding: 10px 20px;\r\n    margin-bottom 20px;\r\n    .el-form-item\r\n      margin-bottom: 0;\r\n\r\n  .contentBar\r\n    margin-bottom 20px;\r\n\r\n  .pull-right\r\n    float right;\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/sites/admin/views/layout.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-menu',{staticClass:\"menu\",attrs:{\"default-active\":_vm.activeIndex,\"default-openeds\":_vm.defaultOpeneds,\"router\":true,\"collapse\":_vm.menu.isCollapse,\"background-color\":\"#545c64\",\"text-color\":\"#fff\",\"active-text-color\":\"#ffd04b\"},on:{\"select\":_vm.handleSelect,\"open\":_vm.handleOpen,\"close\":_vm.handleClose}},[_c('menu-tree-item',{attrs:{\"data\":_vm.menu.tree}})],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c718c928\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/sites/admin/components/menu.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1850973c\\\",\\\"scoped\\\":false,\\\"sourceMap\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./layout.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./layout.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./layout.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1850973c\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./layout.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sites/admin/views/layout.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"menu-wrap\"},[_c('admin-menu')],1),_vm._v(\" \"),_c('div',{staticClass:\"main-wrap\"},[_c('admin-header',{attrs:{\"data\":_vm.session}}),_vm._v(\" \"),_c('div',{staticClass:\"content-wrap\"},[_c('el-row',{staticClass:\"breadcrumb-wrap\"},[_c('el-breadcrumb',{staticClass:\"breadcrumb\",attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/' }}},[_vm._v(\"首页\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"活动管理\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"活动列表\")]),_vm._v(\" \"),_c('el-breadcrumb-item',[_vm._v(\"活动详情\")])],1)],1),_vm._v(\" \"),_c('el-row',{staticClass:\"page-wrap\"},[_c('router-view')],1)],1)],1)])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1850973c\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/sites/admin/views/layout.vue\n// module id = null\n// module chunks = ","/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./about.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./about.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6e0e90c8\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./about.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sites/admin/views/about.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('dl',{staticClass:\"about-info\"},[_c('dt',[_vm._v(\"关于项目\")]),_vm._v(\" \"),_c('dd',[_vm._v(\"该项目是基于Cnodejs的api，采用vue.js重写的webapp。\")]),_vm._v(\" \"),_c('dt',[_vm._v(\"源码地址\")]),_vm._v(\" \"),_c('dd',[_c('a',{attrs:{\"href\":\"https://github.com/shinygang/Vue-cnodejs\"}},[_vm._v(\"\\n              https://github.com/shinygang/Vue-cnodejs\")])]),_vm._v(\" \"),_c('dt',[_vm._v(\"意见反馈\")]),_vm._v(\" \"),_c('dd',[_c('a',{attrs:{\"href\":\"https://github.com/shinygang/Vue-cnodejs/issues\"}},[_vm._v(\"\\n              发表意见或者提需求\")])]),_vm._v(\" \"),_c('dt',[_vm._v(\"当前版本\")]),_vm._v(\" \"),_c('dd',[_vm._v(\"V1.0\")])])])}]\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6e0e90c8\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/sites/admin/views/about.vue\n// module id = null\n// module chunks = ","import layout from '../views/layout'\r\n// import login from '../views/login/index'\r\n// import article from '../views/article/index'\r\n// import articleCreate from '../views/article/create'\r\nimport about from '../views/about'\r\n\r\nconst login = resolve => require(['../views/login/index'], resolve);\r\nconst article = resolve => require(['../views/article/index'], resolve);\r\nconst articleEdit = resolve => require(['../views/article/edit'], resolve);\r\nconst menu = resolve => require(['../views/menu/index'], resolve);\r\n\r\nexport default [\r\n  {\r\n    path: '/login',\r\n    name: 'login',\r\n    component: login,\r\n  },\r\n  {\r\n    path: '',\r\n    component: layout,\r\n    children: [\r\n      {\r\n        path: '/article',\r\n        name: 'article',\r\n        component: article,\r\n      },\r\n      {\r\n        path: '/article/create',\r\n        name: 'articleCreate',\r\n        component: articleEdit,\r\n      },\r\n      {\r\n        path: '/article/:id',\r\n        name: '/articleEdit',\r\n        component: articleEdit,\r\n      },\r\n      {\r\n        path: '/menu',\r\n        name: 'menu',\r\n        component: menu,\r\n      },\r\n      {\r\n        path: '/about',\r\n        name: 'about',\r\n        component: about,\r\n      },\r\n      {\r\n        path: '*',\r\n        name: 'notFound',\r\n        component: about,\r\n      }\r\n    ],\r\n  }\r\n];\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/sites/admin/router/routes.js","class LocalStorage {\r\n  static get(key) {\r\n    return new Promise((resolve, reject) => {\r\n      let data;\r\n      try {\r\n        data = JSON.parse(localStorage.getItem(key))\r\n      } catch (e) {\r\n        reject(e);\r\n      }\r\n      resolve(data);\r\n    })\r\n  }\r\n\r\n  static set(key, value) {\r\n    return new Promise((resolve, reject) => {\r\n      localStorage.setItem(key, JSON.stringify(value));\r\n      LocalStorage.get(key).then((data) => {\r\n        if (data) resolve(data);\r\n        else throw new Error();\r\n      }).catch((e) => {\r\n        reject(e);\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\nexport default LocalStorage;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/localstorage.js","import _ from 'lodash';\r\nimport menuApi from '@/sites/admin/api/menu';\r\nimport storage from '@/utils/localstorage';\r\nimport asyncTree from '@/utils/async-tree';\r\n\r\nconst STORAGE_PREFIX = 'ADMIN:';\r\n\r\nexport default {\r\n  GET_MENU: ({commit, dispatch, state}, {route}) => {\r\n    commit('SET_ROUTE', route);\r\n    storage.get(`${STORAGE_PREFIX}MENU`).then(menu => {\r\n      if (menu) {\r\n        commit('SET_MENU', menu);\r\n      } else {\r\n        menuApi.query({'no_root': true, 'is_enabled': true}).then((res) => {\r\n          let map = _.keyBy(res, 'route');\r\n          commit('SET_MENU_MAP', map);\r\n          asyncTree.arrayToTree(res).then((tree) => {\r\n            // storage.set(`${STORAGE_PREFIX}MENU`, asyncTree.arrayToTree(res));\r\n            commit('SET_MENU', tree);\r\n          })\r\n        })\r\n      }\r\n    });\r\n  },\r\n  TOGGLE_MENU_COLLAPSE: ({commit, dispatch, state}) => {\r\n    commit('SET_MENU_COLLAPSE', !state.menu.isCollapse);\r\n  },\r\n  GET_SESSION: ({commit, dispatch, state}) => {\r\n    session.get(state.auth).then((data) => {\r\n      commit('SET_SESSION', data);\r\n    })\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/sites/admin/store/actions.js","import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\nimport actions from './actions';\r\nimport getters from './getters';\r\nimport mutations from './mutations';\r\nimport state from './state';\r\n\r\nVue.use(Vuex);\r\n\r\nexport default new Vuex.Store({ state, actions, getters, mutations });\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/sites/admin/store/index.js","export default {\n  auth: null,\n  menu: {\n    tree: [],\n    map: {},\n    isCollapse: false\n  },\n  route: '',\n  session: {\n    username: '老夫子',\n    avatar: 'http://static.codehuang.local:20081/upload/avatars/default.png',\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/sites/admin/store/state.js","export default {\r\n  menu(state, getters) {\r\n    return state.menu\r\n  },\r\n  menuCollapse(state, getters) {\r\n    return state.menu.isCollapse\r\n  },\r\n\r\n  defaultOpeneds(state, getters) {\r\n    let activeMenu = state.menu.map[state.route];\r\n    return activeMenu && activeMenu.parent_id !== 1 ? [`${activeMenu.parent_id}`] : [];\r\n  },\r\n\r\n  activeIndex(state, getters) {\r\n    return state.route\r\n  },\r\n\r\n  session(state, getters) {\r\n    return state.session\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/sites/admin/store/getters.js","export default {\r\n  SET_SESSION: (state, data) => {\r\n    state.session = data;\r\n  },\r\n  SET_MENU: (state, data) => {\r\n    state.menu.tree = data;\r\n  },\r\n  SET_MENU_MAP: (state, data) => {\r\n    state.menu.map = data;\r\n  },\r\n  SET_MENU_COLLAPSE: (state, data) => {\r\n    state.menu.isCollapse = data;\r\n  },\r\n  SET_ROUTE: (state, data) => {\r\n    state.route = data;\r\n  },\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/sites/admin/store/mutations.js","import 'normalize.css'\r\nimport 'es6-promise/auto'\r\nimport 'whatwg-fetch'\r\nimport Vue from 'vue'\r\nimport ElementUI from 'element-ui'\r\nimport 'element-ui/lib/theme-chalk/index.css'\r\nimport app from '@/app'\r\nimport router from './router'\r\nimport store from './store'\r\n\r\nVue.config.productionTip = false\r\nVue.use(ElementUI)\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  render: h => h(app)\r\n}).$mount('#app')\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/sites/admin/main.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-view')}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-310b4c1c\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/app.vue\n// module id = null\n// module chunks = ","/* script */\nvar __vue_script__ = null\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-310b4c1c\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./app.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\r\nimport Router from 'vue-router';\r\nimport routes from './routes';\r\n\r\nVue.use(Router);\r\n\r\nexport default new Router({\r\n  mode: 'history',\r\n  base: __dirname,\r\n  scrollBehavior: () => ({\r\n    y: 0\r\n  }),\r\n  routes: routes\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/sites/admin/router/index.js","import request from '@/utils/request';\r\n\r\nconst url = `${API_HOST}/v1/menus`;\r\nexport default {\r\n  query(data) {\r\n    return request({\r\n      method: 'get',\r\n      url: url,\r\n      params: data,\r\n      cache: false\r\n    });\r\n  },\r\n  create(data) {\r\n    return request({\r\n      method: 'post',\r\n      url: url,\r\n      data: data\r\n    });\r\n  },\r\n  update(id, data) {\r\n    return request({\r\n      method: 'put',\r\n      url: `${url}/${id}`,\r\n      data: data\r\n    });\r\n  },\r\n  remove(id) {\r\n    return request({\r\n      method: 'delete',\r\n      url: `${url}/${id}`\r\n    });\r\n  },\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/sites/admin/api/menu.js","class AjaxHelper {\r\n  defaults = {\r\n    \"method\": \"get\",\r\n    \"headers\": {\r\n      'Accept': 'application/json',\r\n    }\r\n  };\r\n  defaultsMethodHeaders = {};\r\n\r\n  constructor() {\r\n    ['delete', 'get', 'head'].forEach((method) => {\r\n      this.defaultsMethodHeaders[method] = {};\r\n    });\r\n    ['post', 'put', 'patch'].forEach((method) => {\r\n      this.defaultsMethodHeaders[method] = {'Content-Type': 'application/json;charset=utf-8'}\r\n    });\r\n  }\r\n\r\n  _formatQueryString(data) {\r\n    return Object.keys(data).filter(function (key) {\r\n      return data[key] !== undefined;\r\n    }).map(function (key) {\r\n      return encodeURIComponent(key) + '=' + encodeURIComponent(data[key]);\r\n    }).join('&');\r\n  }\r\n\r\n  get(url) {\r\n    return this.request({url});\r\n  }\r\n\r\n  post(url, data) {\r\n    return this.request({url, data, \"method\": \"post\"});\r\n  }\r\n\r\n  request(config) {\r\n    config = Object.assign({}, this.defaults, config);\r\n    config.method = config.method.toLowerCase();\r\n    if (config.cache === false) {\r\n      config.params = config.params || {};\r\n      config.params['_'] = +new Date();\r\n    }\r\n    let url = `${config.url}${config.params ? `${(~config.url.indexOf('?') ? '&' : '?')}${this._formatQueryString(config.params)}` : ''}`,\r\n      option = {\r\n        method: config.method,\r\n        headers: Object.assign({}, config.headers, this.defaultsMethodHeaders[config.method]),\r\n        body: JSON.stringify(config.data)\r\n      };\r\n    return new Promise(function (resolve, reject) {\r\n      fetch(url, option).then((res) => {\r\n        console.log(res);\r\n        resolve(res.json());\r\n      })\r\n    });\r\n  }\r\n}\r\n\r\nconst ajaxHelper = new AjaxHelper();\r\nexport default ajaxHelper.request.bind(ajaxHelper);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/request.js"],"sourceRoot":""}