{"version":3,"sources":["webpack:///src/sites/chat/components/OptionBar.vue","webpack:///./src/sites/chat/components/OptionBar.vue","webpack:///./src/sites/chat/components/OptionBar.vue?3a11","webpack:///src/sites/chat/views/Dialog.vue","webpack:///./src/sites/chat/views/Dialog.vue","webpack:///./src/sites/chat/views/Dialog.vue?c1f8","webpack:///src/sites/chat/components/Header.vue","webpack:///./src/sites/chat/components/Header.vue","webpack:///./src/sites/chat/components/Header.vue?390d","webpack:///src/components/content-editable.vue","webpack:///./src/components/content-editable.vue","webpack:///./src/components/content-editable.vue?d106","webpack:///src/sites/chat/components/Content.vue","webpack:///./src/sites/chat/components/Content.vue","webpack:///./src/sites/chat/components/Content.vue?0bb6"],"names":["inputElement","OptionBar","ContentEditable","content_editable","_this","this","height","inputElementHeight","__vue_styles__","context","__webpack_require__","components_OptionBar","Object","component_normalizer","_vm","_h","$createElement","_c","_self","staticClass","style","inputWrapHeight","on","input","handleInput","model","value","callback","$$v","inputText","expression","_v","class","disabled","length","attrs","href","click","send","_m","Dialog","ChatHeader","Header","ChatContent","Content","ChatOptionBar","messages","sendTime","time","groupItems","v","allGroup","back","data","random","Date","isMine","Dialog___vue_styles__","Dialog_Component","slot","handleReturnBtnClick","contentBottomOffset","bottom","_l","item","index","key","id","is-mine","from_user_id","directives","name","rawName","showTimeStamp","_s","_f","src","content","height-change","handleHeightChange","__webpack_exports__","Component","_t","String","Boolean","innerHTML","contenteditable","canEdit","domProps","innerText","focus","$event","isLocked","blur"],"mappings":"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","file":"static/frontend/js/4.de00c5272bfde00143cb.js","sourcesContent":["<template>\r\n  <div class=\"option-bar\">\r\n    <div class=\"input-wrap\" :style=\"{height:inputWrapHeight+'px'}\">\r\n      <content-editable class=\"input-text\" v-model=\"inputText\" @input=\"handleInput\"/>\r\n      <a href=\"javascript:void(0)\" class=\"input-button\" :class=\"{'disabled':!inputText.length}\"\r\n         @click=\"send\">发送</a>\r\n    </div>\r\n    <ul class=\"option-button-group\">\r\n      <li><i class=\"c-icon-audio\"></i></li>\r\n      <li><i class=\"c-icon-image\"></i></li>\r\n      <li><i class=\"c-icon-camera\"></i></li>\r\n      <li><i class=\"c-icon-bonus\"></i></li>\r\n      <li><i class=\"c-icon-gif\"></i></li>\r\n      <li><i class=\"c-icon-smile\"></i></li>\r\n      <li><i class=\"c-icon-add-circle\"></i></li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import ContentEditable from '@/components/content-editable';\r\n\r\n  let inputElement, inputElementHeight;\r\n  export default {\r\n    data() {\r\n      return {\r\n        inputElementHeight: 0,\r\n        inputText: ''\r\n      }\r\n    },\r\n    components: {\r\n      ContentEditable\r\n    },\r\n    watch: {\r\n      'inputElementHeight'() {\r\n        this.$nextTick(() => {\r\n          this.$emit('height-change', parseInt(window.getComputedStyle(this.$el).height));\r\n        })\r\n      }\r\n    },\r\n    computed: {\r\n      inputWrapHeight() {\r\n        return this.inputElementHeight;\r\n      }\r\n    },\r\n    methods: {\r\n      send() {\r\n\r\n      },\r\n      handleInput(data) {\r\n        this.inputElementHeight = parseInt(window.getComputedStyle(inputElement).height)\r\n      }\r\n    },\r\n    mounted() {\r\n      inputElement = document.querySelector('.input-text');\r\n      inputElementHeight = parseInt(window.getComputedStyle(inputElement).height);\r\n      this.inputElementHeight = inputElementHeight;\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n  @import '../assets/stylus/shared/_mixin'\r\n  .option-bar\r\n    position absolute\r\n    left 0\r\n    right 0\r\n    bottom 0\r\n    font-size 0\r\n    background-color: #f0f2f8\r\n    border-top 1px solid #f0f2f8\r\n\r\n  .input-wrap\r\n    position: relative\r\n\r\n  .input-text\r\n    float: left\r\n    position: absolute\r\n    left: px2rem(10px);\r\n    bottom: 0\r\n    border none\r\n    width: 82%\r\n    font-size px2rem(32px)\r\n    min-height: px2rem(76px)\r\n    line-height px2rem(32px)\r\n    background-color: #fff\r\n    max-height px2rem(200px)\r\n    &::-webkit-scrollbar {\r\n      display: none;\r\n    }\r\n    &:active, &:focus\r\n      outline none\r\n\r\n  .input-button\r\n    position: absolute\r\n    right: px2rem(10px);\r\n    bottom: 0\r\n    text-align center\r\n    display: inline-block\r\n    width: 14%\r\n    line-height: px2rem(76px)\r\n    height px2rem(76px)\r\n    color: #fff\r\n    background-color: #4ab9f8\r\n    border-radius px2rem(10px)\r\n    font-size px2rem(26px)\r\n\r\n  .option-button-group\r\n    line-height px2rem(94px)\r\n    padding 0\r\n    li\r\n      display inline-block\r\n      vertical-align middle\r\n      width 14.2857%\r\n      text-align center\r\n      color #aaa\r\n      font-size px2rem(56px)\r\n      line-height 1\r\n      &:active\r\n        color #4ab9f8\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/sites/chat/components/OptionBar.vue","function injectStyle (context) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1ac002f8\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./OptionBar.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OptionBar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OptionBar.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1ac002f8\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./OptionBar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1ac002f8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sites/chat/components/OptionBar.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"option-bar\"},[_c('div',{staticClass:\"input-wrap\",style:({height:_vm.inputWrapHeight+'px'})},[_c('content-editable',{staticClass:\"input-text\",on:{\"input\":_vm.handleInput},model:{value:(_vm.inputText),callback:function ($$v) {_vm.inputText=$$v},expression:\"inputText\"}}),_vm._v(\" \"),_c('a',{staticClass:\"input-button\",class:{'disabled':!_vm.inputText.length},attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":_vm.send}},[_vm._v(\"发送\")])],1),_vm._v(\" \"),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"option-button-group\"},[_c('li',[_c('i',{staticClass:\"c-icon-audio\"})]),_vm._v(\" \"),_c('li',[_c('i',{staticClass:\"c-icon-image\"})]),_vm._v(\" \"),_c('li',[_c('i',{staticClass:\"c-icon-camera\"})]),_vm._v(\" \"),_c('li',[_c('i',{staticClass:\"c-icon-bonus\"})]),_vm._v(\" \"),_c('li',[_c('i',{staticClass:\"c-icon-gif\"})]),_vm._v(\" \"),_c('li',[_c('i',{staticClass:\"c-icon-smile\"})]),_vm._v(\" \"),_c('li',[_c('i',{staticClass:\"c-icon-add-circle\"})])])}]\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1ac002f8\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/sites/chat/components/OptionBar.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"wrap\">\r\n    <chat-header>\r\n      <div class=\"head-title\" slot=\"middle\">\r\n        <div class=\"name\">老夫子</div>\r\n        <div class=\"status\">在线</div>\r\n      </div>\r\n      <a href=\"javascript:void(0)\" class=\"head-btn\" slot=\"left\" @click=\"handleReturnBtnClick\">\r\n        <i class=\"c-icon-arrow-left\"></i>\r\n      </a>\r\n      <a href=\"javascript:void(0)\" class=\"head-btn\" slot=\"right\">\r\n        <i class=\"c-icon-add\"></i>\r\n      </a>\r\n    </chat-header>\r\n    <chat-content :style=\"contentBottomOffset?{bottom:contentBottomOffset+'px'}:{}\">\r\n      <div class=\"message-list\">\r\n        <div :class=\"{'is-mine':item.from_user_id === 0}\" v-for=\"(item,index) in messages\" :key=\"item.id\">\r\n          <div class=\"message-time\" v-show=\"showTimeStamp(item,index)\">{{item.sendTime | time('HH:mm')}}</div>\r\n          <div class=\"message-item\">\r\n            <div class=\"message-item-block block-left\">\r\n              <div class=\"avatar-wrap\" v-show=\"item.from_user_id !== 0\">\r\n                <img src=\"//static.codehuang.com/upload/avatars/default.png\">\r\n              </div>\r\n            </div>\r\n            <div class=\"message-item-block block-center\">\r\n              <div class=\"message-content-wrap\">\r\n                <div class=\"message-content\">{{item.content}}</div>\r\n              </div>\r\n            </div>\r\n            <div class=\"message-item-block block-right\">\r\n              <div class=\"avatar-wrap\" v-show=\"item.from_user_id === 0\">\r\n                <img src=\"//static.codehuang.com/upload/avatars/default.png\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </chat-content>\r\n    <chat-option-bar @height-change=\"handleHeightChange\"></chat-option-bar>\r\n  </div>\r\n</template>\r\n<script>\r\n  import ChatHeader from '../components/Header';\r\n  import ChatContent from '../components/Content';\r\n  import ChatOptionBar from '../components/OptionBar';\r\n\r\n  export default {\r\n    components: {\r\n      ChatHeader,\r\n      ChatContent,\r\n      ChatOptionBar\r\n    },\r\n    data() {\r\n      return {\r\n        contentBottomOffset: 0,\r\n        messages: [],\r\n        total: [],\r\n        filter: {\r\n          page: 0, size: 10\r\n        }\r\n      }\r\n    },\r\n    computed: {\r\n      messageGroups() {\r\n        let items = this.messages;\r\n        let time = 0, lastTime = 0, groupItems = [], allGroup = [];\r\n        items.forEach((v, i) => {\r\n          if (i === 0) {\r\n            time = lastTime = v.sendTime\r\n          } else {\r\n            lastTime = time;\r\n            time = v.sendTime;\r\n            if (time - lastTime >= 180000) {\r\n              allGroup = allGroup.concat(groupItems)\r\n              groupItems = []\r\n            } else {\r\n              groupItems.push(v)\r\n            }\r\n          }\r\n        });\r\n        return allGroup;\r\n      }\r\n    },\r\n    methods: {\r\n      showTimeStamp(item, index) {\r\n        let last = this.messages[index - 1];\r\n        return !last || item.sendTime - last.sendTime >= 180000\r\n      },\r\n      handleReturnBtnClick() {\r\n        this.$router.back()\r\n      },\r\n      handleHeightChange(data) {\r\n        this.contentBottomOffset = data;\r\n      }\r\n    },\r\n    created() {\r\n      let timeOffset = 0;\r\n      this.messages = new Array(100).fill(undefined).map((v, i) => {\r\n        let isMine = Math.round(Math.random());\r\n        //2017-07-27 10:26:14\r\n        let time = +new Date();\r\n        timeOffset += 180000 * (+(i % 3 === 0));\r\n        return {\r\n          id: i + 1,\r\n          from_user_id: isMine,\r\n          from_user_name: ['老夫子', '豆豆儿'][isMine],\r\n          to_user_id: +!isMine,\r\n          sendTime: time + timeOffset,\r\n          content: '软工 刘峰：明天早上过去\\n软工 刘峰：明天早上过去'\r\n        }\r\n      });\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n  @import '../assets/stylus/shared/_mixin'\r\n  .wrap {\r\n    background-color: #f0f2f8;\r\n  }\r\n\r\n  .message-list\r\n    padding px2rem(30px) 0\r\n\r\n  .message-item\r\n    display: block\r\n    font-size: 0\r\n    padding px2rem(24px) 0\r\n\r\n  .message-item-block\r\n    line-height: 1\r\n    display: inline-block\r\n    vertical-align: top\r\n\r\n  .block-left\r\n    width 20%\r\n\r\n  .block-center\r\n    width 60%\r\n\r\n  .block-right\r\n    width 20%\r\n\r\n  .message-content-wrap\r\n    padding-right px2rem(30px)\r\n\r\n  .message-content\r\n    color: #000\r\n    font-size: px2rem(30px)\r\n    line-height: px2rem(46px)\r\n    padding px2rem(20px)\r\n    background-color: #fff\r\n    border-radius px2rem(30px)\r\n    white-space pre-wrap\r\n\r\n  .is-mine\r\n    .message-content-wrap\r\n      padding-right 0\r\n      padding-left px2rem(30px)\r\n    .message-content\r\n      color: #fff\r\n      background-color: #4ab9f8\r\n\r\n  .message-time\r\n    color: #999\r\n    font-size: px2rem(20px)\r\n    line-height: px2rem(84px)\r\n    text-align: center\r\n\r\n  .avatar-wrap\r\n    margin 0 auto\r\n    width px2rem(100px)\r\n    height px2rem(100px)\r\n    overflow: hidden\r\n    border-radius 50%\r\n    img\r\n      width: 100%\r\n      height: 100%\r\n\r\n  .head-avatar\r\n    display: inline-block\r\n    width px2rem(80px)\r\n    line-height px2rem(80px)\r\n    overflow: hidden\r\n    border-radius 50%\r\n    img\r\n      width: 100%\r\n      height: 100%\r\n\r\n  .head-btn\r\n    btnSize = 44px\r\n    display: inline-block\r\n    vertical-align middle\r\n    color: #fff\r\n    width: px2rem(btnSize)\r\n    font-size: 0\r\n    i\r\n      font-size: px2rem(btnSize)\r\n\r\n  .head-title\r\n    padding-top px2rem(20px)\r\n    line-height: 1.2\r\n    color: #fff\r\n    .name\r\n      font-size: px2rem(30px)\r\n    .status\r\n      font-size: px2rem(20px)\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/sites/chat/views/Dialog.vue","function injectStyle (context) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-33496c48\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Dialog.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Dialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Dialog.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-33496c48\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Dialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-33496c48\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sites/chat/views/Dialog.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('chat-header',[_c('div',{staticClass:\"head-title\",attrs:{\"slot\":\"middle\"},slot:\"middle\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"老夫子\")]),_vm._v(\" \"),_c('div',{staticClass:\"status\"},[_vm._v(\"在线\")])]),_vm._v(\" \"),_c('a',{staticClass:\"head-btn\",attrs:{\"slot\":\"left\",\"href\":\"javascript:void(0)\"},on:{\"click\":_vm.handleReturnBtnClick},slot:\"left\"},[_c('i',{staticClass:\"c-icon-arrow-left\"})]),_vm._v(\" \"),_c('a',{staticClass:\"head-btn\",attrs:{\"slot\":\"right\",\"href\":\"javascript:void(0)\"},slot:\"right\"},[_c('i',{staticClass:\"c-icon-add\"})])]),_vm._v(\" \"),_c('chat-content',{style:(_vm.contentBottomOffset?{bottom:_vm.contentBottomOffset+'px'}:{})},[_c('div',{staticClass:\"message-list\"},_vm._l((_vm.messages),function(item,index){return _c('div',{key:item.id,class:{'is-mine':item.from_user_id === 0}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTimeStamp(item,index)),expression:\"showTimeStamp(item,index)\"}],staticClass:\"message-time\"},[_vm._v(_vm._s(_vm._f(\"time\")(item.sendTime,'HH:mm')))]),_vm._v(\" \"),_c('div',{staticClass:\"message-item\"},[_c('div',{staticClass:\"message-item-block block-left\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.from_user_id !== 0),expression:\"item.from_user_id !== 0\"}],staticClass:\"avatar-wrap\"},[_c('img',{attrs:{\"src\":\"//static.codehuang.com/upload/avatars/default.png\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"message-item-block block-center\"},[_c('div',{staticClass:\"message-content-wrap\"},[_c('div',{staticClass:\"message-content\"},[_vm._v(_vm._s(item.content))])])]),_vm._v(\" \"),_c('div',{staticClass:\"message-item-block block-right\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.from_user_id === 0),expression:\"item.from_user_id === 0\"}],staticClass:\"avatar-wrap\"},[_c('img',{attrs:{\"src\":\"//static.codehuang.com/upload/avatars/default.png\"}})])])])])}))]),_vm._v(\" \"),_c('chat-option-bar',{on:{\"height-change\":_vm.handleHeightChange}})],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-33496c48\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/sites/chat/views/Dialog.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"header\">\r\n    <div class=\"header-left\">\r\n      <slot name=\"left\"></slot>\r\n    </div>\r\n    <slot name=\"middle\"></slot>\r\n    <div class=\"header-right\">\r\n      <slot name=\"right\"></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    props: ['pageTitle'],\r\n    data() {\r\n      return {}\r\n    },\r\n    computed: {},\r\n    components: {}\r\n  }\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n  @import '../assets/stylus/shared/_mixin'\r\n  .header\r\n    position: relative\r\n    height: px2rem(104px)\r\n    line-height: px2rem(104px)\r\n    background-image: linear-gradient(to right, #4f8dfe, #35bafd);\r\n    text-align: center\r\n    h1\r\n      font-size: px2rem(34px)\r\n      margin: 0\r\n      font-weight: normal\r\n      color: #fff\r\n\r\n  .header-left\r\n    position: absolute\r\n    left: px2rem(24px)\r\n    top: 0\r\n\r\n  .header-right\r\n    position: absolute\r\n    right: px2rem(24px)\r\n    top: 0\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/sites/chat/components/Header.vue","function injectStyle (context) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3fb04dbf\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Header.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Header.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Header.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3fb04dbf\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3fb04dbf\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sites/chat/components/Header.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"header-left\"},[_vm._t(\"left\")],2),_vm._v(\" \"),_vm._t(\"middle\"),_vm._v(\" \"),_c('div',{staticClass:\"header-right\"},[_vm._t(\"right\")],2)],2)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3fb04dbf\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/sites/chat/components/Header.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"content-editable\"\r\n       v-html=\"innerText\"\r\n       :contenteditable=\"canEdit\"\r\n       @focus=\"isLocked = true\"\r\n       @blur=\"isLocked = false\"\r\n       @input=\"input\">\r\n  </div>\r\n</template>\r\n<script type=\"text/ecmascript-6\">\r\n  export default {\r\n    name: 'content-editable',\r\n    props: {\r\n      value: {\r\n        type: String,\r\n        default: ''\r\n      },\r\n      canEdit: {\r\n        type: Boolean,\r\n        default: true\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        innerText: this.value,\r\n        isLocked: false\r\n      }\r\n    },\r\n    watch: {\r\n      'value'() {\r\n        if (!this.isLocked || !this.innerText) {\r\n          this.innerText = this.value;\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      input() {\r\n        this.$emit('input', this.$el.innerHTML);\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"stylus\" rel=\"stylesheet/scss\">\r\n  .content-editable {\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: auto;\r\n    word-break: break-all;\r\n    outline: none;\r\n    user-select: text;\r\n    white-space: pre-wrap;\r\n    text-align: left;\r\n    &[contenteditable=true] {\r\n      user-modify: read-write-plaintext-only;\r\n      &:empty:before {\r\n        content: attr(placeholder);\r\n        display: block;\r\n        color: #ccc;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/content-editable.vue","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-dc7de250\\\",\\\"scoped\\\":false,\\\"sourceMap\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./content-editable.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./content-editable.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./content-editable.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-dc7de250\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./content-editable.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/content-editable.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content-editable\",attrs:{\"contenteditable\":_vm.canEdit},domProps:{\"innerHTML\":_vm._s(_vm.innerText)},on:{\"focus\":function($event){_vm.isLocked = true},\"blur\":function($event){_vm.isLocked = false},\"input\":_vm.input}})}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dc7de250\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/content-editable.vue\n// module id = null\n// module chunks = ","<template>\r\n  <section class=\"container\">\r\n    <slot></slot>\r\n  </section>\r\n</template>\r\n<script>\r\n  export default {\r\n    components: {},\r\n    computed: {},\r\n    methods: {},\r\n    created() {\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n  @import '../assets/stylus/shared/_mixin'\r\n  .container\r\n    position: absolute\r\n    top: px2rem(104px)\r\n    bottom px2rem(112px)\r\n    left: 0\r\n    right: 0\r\n    overflow: auto\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/sites/chat/components/Content.vue","function injectStyle (context) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4792037e\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Content.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Content.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Content.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4792037e\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Content.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4792037e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sites/chat/components/Content.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"container\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4792037e\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/sites/chat/components/Content.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}