webpackJsonp([16],{"+cD3":function(t,e,n){"use strict";(function(t){var i=n("7+uW"),o=n("/ocq"),a=n("Cxcp");i.default.use(o.a);var s=new o.a({mode:"history",base:t,routes:a.a});e.a=s}).call(e,"/")},0:function(t,e){},Cxcp:function(t,e,n){"use strict";function i(t){n("oOb0")}function o(t){n("LamC")}var a=n("Dd8w"),s=n.n(a),r=n("NYxO"),c=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),u="ontouchstart"in window,d=u?{down:"touchstart",move:"touchmove",up:"touchend",over:"touchstart",out:"touchend"}:{down:"mousedown",move:"mousemove",up:"mouseup",over:"mouseover",out:"mouseout"},l={props:{width:Number,action:Object,enable:Boolean,container:Object},data:function(){return{pos:0,visible:!1,moving:!1}},methods:{handleMaskClick:function(){this.moving||this.$emit("mask-click")}},watch:{action:function(t){this.visible=t.visible,this.pos=t.visible?this.width:0,this.moving=!0}},computed:{opacity:function(){return.4*this.pos/this.width||0}},mounted:function(){var t=this,e=document,n=this.width,i=void 0,o=void 0,a=void 0,s=void 0,r=void 0,u=void 0,l=void 0,h=void 0,m=void 0,f=void 0,v=function(t){this.enable&&(f=void 0,u=s=t.clientX||t.changedTouches[0].clientX,r=t.clientY||t.changedTouches[0].clientY,o=+new Date,m=this.pos,e.addEventListener(d.move,p,!!c&&{passive:!0}),e.addEventListener(d.up,E,!!c&&{passive:!0}),this.$emit("slide-start",this.pos))}.bind(this),p=function(t){i=o,o=+new Date,h=u,u=t.clientX||t.changedTouches[0].clientX,l=t.clientY||t.changedTouches[0].clientY,a=(u-h)/(o-i);var e=m+u-s;e=Math.min(n,e),e=Math.max(0,e),void 0===f&&(f=Math.abs(l-r)/Math.abs(u-s)>Math.sqrt(3)/3),f||(c||t.preventDefault(),this.pos=e,this.$emit("slide-move",e))}.bind(this),E=function(t){if(void 0!==f)if(f)this.pos=this.visible?n:0;else{var i=this.pos;this.visible=a>0?(n-i)/a<500||i>3*n/5:!((0-i)/a<500||i<3*n/5),this.pos>0&&this.pos<n&&(this.moving=!0),this.pos=this.visible?n:0}f=void 0,e.removeEventListener(d.move,p,!!c&&{passive:!0}),e.removeEventListener(d.up,E,!!c&&{passive:!0})}.bind(this);"transitionend webkitTransitionEnd msTransitionEnd otransitionend oTransitionEnd".split(" ").forEach(function(e){t.$el.addEventListener(e,function(){t.moving=!1,t.pos=t.visible?n:0},!1)}),e.addEventListener(d.down,v,!!c&&{passive:!0})}},h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"side-menu"},[n("div",{staticClass:"menu-content",class:{moving:t.moving},style:{width:t.width+"px",left:"-"+Math.ceil(t.width/3)+"px",transform:"translate3d("+Math.ceil(t.pos/3)+"px,0,0)"}},[t._t("menu-content")],2),t._v(" "),n("div",{staticClass:"main-content",class:{moving:t.moving},style:{transform:"translate3d("+t.pos+"px,0,0)"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.pos,expression:"pos"}],staticClass:"menu-mask",style:{opacity:t.opacity},on:{click:t.handleMaskClick}}),t._v(" "),t._t("main-content")],2)])},m=[],f={render:h,staticRenderFns:m},v=f,p=n("VU/8"),E=i,S=p(l,v,!1,E,"data-v-ea55146c",null),g=S.exports,w=history.state,b="forward",_={data:function(){return{width:Math.floor(.8*document.body.clientWidth),transitionName:"slide-forward"}},watch:{$route:function(t,e){var n="";n=w||history.state?history.state&&!w?"forward":w&&!history.state?"back":w&&+w.key>+history.state.key?"back":w&&+w.key==+history.state.key?"back"===b?"forward":"back":"forward":"forward",this.transitionName="slide-"+n,w=history.state||w,b=n}},methods:{handleMaskClick:function(){this.$store.dispatch("SWITCH_SIDE_MENU",!1)},handleSlideStart:function(t){},handleSlideMove:function(t){},handleSlideEnd:function(t,e){}},components:{ChatSideMenu:g},computed:s()({},Object(r.b)(["sideMenuEnable","sideMenuAction"]))},M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app"},[n("chat-side-menu",{ref:"menu",attrs:{width:t.width,action:t.sideMenuAction,enable:t.sideMenuEnable},on:{"slide-start":t.handleSlideStart,"slide-move":t.handleSlideMove,"slide-end":t.handleSlideEnd,"mask-click":t.handleMaskClick}},[n("div",{attrs:{slot:"menu-content"},slot:"menu-content"}),t._v(" "),n("transition",{attrs:{slot:"main-content",name:t.transitionName},slot:"main-content"},[n("router-view",{staticClass:"main-content"})],1)],1)],1)},y=[],I={render:M,staticRenderFns:y},T=I,N=n("VU/8"),k=o,D=N(_,T,!1,k,null,null),C=D.exports,A=function(t){return n.e(0).then(function(){var e=[n("D9sZ")];t.apply(null,e)}.bind(this)).catch(n.oe)},O=function(t){return n.e(3).then(function(){var e=[n("7la1")];t.apply(null,e)}.bind(this)).catch(n.oe)},U=function(t){return n.e(1).then(function(){var e=[n("xJkm")];t.apply(null,e)}.bind(this)).catch(n.oe)},L=function(t){return n.e(2).then(function(){var e=[n("GpND")];t.apply(null,e)}.bind(this)).catch(n.oe)},x=function(t){return n.e(7).then(function(){var e=[n("J1ah")];t.apply(null,e)}.bind(this)).catch(n.oe)};e.a=[{path:"/sign",name:"sign",component:x},{path:"",component:C,meta:{auth:!1},children:[{path:"",component:{template:"<div><router-view></router-view></div>"},children:[{path:"message",name:"message",component:A},{path:"contact",name:"contact",component:U},{path:"activity",name:"activity",component:L}]},{path:"message/:mid",name:"messageDetail",component:O}]}]},LamC:function(t,e){},YkRm:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("router-view")},o=[],a={render:i,staticRenderFns:o},s=a,r=n("VU/8"),c=r(null,s,!1,null,null,null);e.a=c.exports},fwBT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n("uMhA"),n("MU8w"),n("rplX"),n("7+uW")),o=n("YkRm"),a=n("+cD3"),s=n("NYxO"),r=n("mvHQ"),c=n.n(r),u=n("vLgD"),d={get:function(t){return Object(u.a)({method:"get",url:"/api/sessions",data:t})}},l=d,h={SET_SKIN:function(t,e){var n=t.commit,i=(t.dispatch,t.state,e.skin),o=JSON.parse(localStorage.getItem("systemSetting")||0);o?(o.skin=i,localStorage.setItem("systemSetting",c()(o))):o={skin:i},localStorage.setItem("systemSetting",c()(o)),n("SET_SKIN",i)},GET_SKIN:function(t){var e=t.commit,n=(t.dispatch,t.state,JSON.parse(localStorage.getItem("systemSetting")||0));console.log(n),n&&e("SET_SKIN",n.skin)},GET_SESSION:function(t){var e=t.commit,n=(t.dispatch,t.state);l.get(n.auth).then(function(t){e("SET_SESSION",t)})},SET_NAVIGATION_DIRECTION:function(t,e){var n=t.commit;t.dispatch,t.state;n("SET_NAVIGATION_DIRECTION",e.direction)},SWITCH_SIDE_MENU:function(t,e){var n=t.commit;t.dispatch,t.state;n("SWITCH_SIDE_MENU",e)},UPDATE_SIDE_MENU_VISIBLE_STATUS:function(t,e){var n=t.commit;t.dispatch,t.state;n("UPDATE_SIDE_MENU_VISIBLE_STATUS",e)},SET_SIDE_MENU_ENABLE:function(t,e){var n=t.commit;t.dispatch,t.state;n("SET_SIDE_MENU_ENABLE",e)}},m={getShowMenu:function(t,e){return t.showMenu},getSkin:function(t,e){return t.skin},getSession:function(t,e){return t.session},transitionName:function(t,e){return"slide-"+t.navigationDirection},sideMenuVisible:function(t){return t.sideMenu.visible},sideMenuEnable:function(t){return t.sideMenu.enable},sideMenuAction:function(t){return t.sideMenu.action}},f={SET_NAVIGATION_DIRECTION:function(t,e){t.navigationDirection=e},SWITCH_SIDE_MENU:function(t,e){t.sideMenu.action={visible:e}},SET_SIDE_MENU_ENABLE:function(t,e){t.sideMenu.enable=e},UPDATE_SIDE_MENU_VISIBLE_STATUS:function(t,e){t.sideMenu.nowVisible=e}},v={skin:"green",auth:null,session:null,navigationDirection:"forward",sideMenu:{nowVisible:!1,enable:!0,action:null}};i.default.use(s.a);var p=new s.a.Store({state:v,actions:h,getters:m,mutations:f});n("hcNg");n("v5o6").attach(document.body),i.default.config.productionTip=!1,i.default.filter("time",function(t,e){var n=void 0;return n="number"==typeof t?new Date(t):new Date(t.replace(/-/g,"/")),e.replace(/HH/g,n.getHours()).replace(/hh/g,n.getHours()>12?n.getHours()-12:n.getHours()).replace(/mm/g,("00"+n.getMinutes()).substr(("00"+n.getMinutes()).length-2,2)).replace(/ss/g,n.getSeconds())}),new i.default({router:a.a,store:p,render:function(t){return t(o.a)}}).$mount("#app")},hcNg:function(t,e){Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(t){if(null==this)throw new TypeError("this is null or not defined");for(var e=Object(this),n=e.length>>>0,i=arguments[1],o=i>>0,a=o<0?Math.max(n+o,0):Math.min(o,n),s=arguments[2],r=void 0===s?n:s>>0,c=r<0?Math.max(n+r,0):Math.min(r,n);a<c;)e[a]=t,a++;return e}})},oOb0:function(t,e){},uMhA:function(t,e){},vLgD:function(t,e,n){"use strict";var i=n("//Fk"),o=n.n(i),a=n("mvHQ"),s=n.n(a),r=n("woOf"),c=n.n(r),u=n("fZjL"),d=n.n(u),l=n("Zrlr"),h=n.n(l),m=n("wxAW"),f=n.n(m),v=function(){function t(){var e=this;h()(this,t),this.defaults={method:"get",headers:{Accept:"application/json"}},this.defaultsMethodHeaders={},["delete","get","head"].forEach(function(t){e.defaultsMethodHeaders[t]={}}),["post","put","patch"].forEach(function(t){e.defaultsMethodHeaders[t]={"Content-Type":"application/json;charset=utf-8"}})}return f()(t,[{key:"_formatQueryString",value:function(t){return d()(t).filter(function(e){return void 0!==t[e]}).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}},{key:"get",value:function(t){return this.request({url:t})}},{key:"post",value:function(t,e){return this.request({url:t,data:e,method:"post"})}},{key:"request",value:function(t){t=c()({},this.defaults,t),t.method=t.method.toLowerCase(),!1===t.cache&&(t.params=t.params||{},t.params._=+new Date);var e=t.url+(t.params?(~t.url.indexOf("?")?"&":"?")+this._formatQueryString(t.params):""),n={method:t.method,headers:c()({},t.headers,this.defaultsMethodHeaders[t.method]),body:s()(t.data)};return new o.a(function(t,i){fetch(e,n).then(function(e){t(e.json())})})}}]),t}(),p=new v;e.a=p.request.bind(p)}},["fwBT"]);
//# sourceMappingURL=chat.06897da130f24c8f6669.js.map