webpackJsonp([4],{"7la1":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("IAZU"),a=i("rOtF"),n=i("WcJj"),c=void 0,o=void 0,r={data:function(){return{inputElementHeight:0,inputText:""}},components:{ContentEditable:n.a},watch:{inputElementHeight:function(){var t=this;this.$nextTick(function(){t.$emit("height-change",parseInt(window.getComputedStyle(t.$el).height))})}},computed:{inputWrapHeight:function(){return this.inputElementHeight}},methods:{send:function(){},handleInput:function(t){this.inputElementHeight=parseInt(window.getComputedStyle(c).height)}},mounted:function(){c=document.querySelector(".input-text"),o=parseInt(window.getComputedStyle(c).height),this.inputElementHeight=o}},l=i("XyMi");var u=function(t){i("jq/r")},d=Object(l.a)(r,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"option-bar"},[i("div",{staticClass:"input-wrap",style:{height:t.inputWrapHeight+"px"}},[i("content-editable",{staticClass:"input-text",on:{input:t.handleInput},model:{value:t.inputText,callback:function(e){t.inputText=e},expression:"inputText"}}),t._v(" "),i("a",{staticClass:"input-button",class:{disabled:!t.inputText.length},attrs:{href:"javascript:void(0)"},on:{click:t.send}},[t._v("Send")])],1),t._v(" "),t._m(0)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"option-button-group"},[e("li",[e("i",{staticClass:"c-icon-audio"})]),this._v(" "),e("li",[e("i",{staticClass:"c-icon-image"})]),this._v(" "),e("li",[e("i",{staticClass:"c-icon-camera"})]),this._v(" "),e("li",[e("i",{staticClass:"c-icon-bonus"})]),this._v(" "),e("li",[e("i",{staticClass:"c-icon-gif"})]),this._v(" "),e("li",[e("i",{staticClass:"c-icon-smile"})]),this._v(" "),e("li",[e("i",{staticClass:"c-icon-add-circle"})])])}],!1,u,"data-v-f55dd606",null).exports,h={components:{ChatHeader:s.a,ChatContent:a.a,ChatOptionBar:d},data:function(){return{contentBottomOffset:0,messages:[],total:[],filter:{page:0,size:10}}},computed:{messageGroups:function(){var t=this.messages,e=0,i=0,s=[],a=[];return t.forEach(function(t,n){0===n?e=i=t.sendTime:(i=e,(e=t.sendTime)-i>=18e4?(a=a.concat(s),s=[]):s.push(t))}),a}},methods:{showTimeStamp:function(t,e){var i=this.messages[e-1];return!i||t.sendTime-i.sendTime>=18e4},handleReturnBtnClick:function(){this.$router.back()},handleHeightChange:function(t){this.contentBottomOffset=t}},created:function(){var t=0;this.messages=new Array(100).fill(void 0).map(function(e,i){var s=Math.round(Math.random()),a=+new Date;return{id:i+1,from_user_id:s,from_user_name:["Vue Drawer Layout","Vue Drawer Layout"][s],to_user_id:+!s,sendTime:a+(t+=18e4*+(i%3==0)),content:"Vue: Hello world"}})}};var m=function(t){i("oZEg")},v=Object(l.a)(h,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrap"},[i("chat-header",[i("div",{staticClass:"head-title",attrs:{slot:"middle"},slot:"middle"},[i("div",{staticClass:"name"},[t._v("Vue Drawer Layout")]),t._v(" "),i("div",{staticClass:"status"},[t._v("Online")])]),t._v(" "),i("a",{staticClass:"head-btn",attrs:{slot:"left",href:"javascript:void(0)"},on:{click:t.handleReturnBtnClick},slot:"left"},[i("i",{staticClass:"c-icon-arrow-left"})]),t._v(" "),i("a",{staticClass:"head-btn",attrs:{slot:"right",href:"javascript:void(0)"},slot:"right"},[i("i",{staticClass:"c-icon-add"})])]),t._v(" "),i("chat-content",{style:t.contentBottomOffset?{bottom:t.contentBottomOffset+"px"}:{}},[i("div",{staticClass:"message-list"},t._l(t.messages,function(e,s){return i("div",{key:e.id,class:{"is-mine":0===e.from_user_id}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showTimeStamp(e,s),expression:"showTimeStamp(item,index)"}],staticClass:"message-time"},[t._v(t._s(t._f("time")(e.sendTime,"HH:mm")))]),t._v(" "),i("div",{staticClass:"message-item"},[i("div",{staticClass:"message-item-block block-left"},[i("div",{directives:[{name:"show",rawName:"v-show",value:0!==e.from_user_id,expression:"item.from_user_id !== 0"}],staticClass:"avatar-wrap"},[i("img",{attrs:{src:"//static.codehuang.com/upload/avatars/default.png"}})])]),t._v(" "),i("div",{staticClass:"message-item-block block-center"},[i("div",{staticClass:"message-content-wrap"},[i("div",{staticClass:"message-content"},[t._v(t._s(e.content))])])]),t._v(" "),i("div",{staticClass:"message-item-block block-right"},[i("div",{directives:[{name:"show",rawName:"v-show",value:0===e.from_user_id,expression:"item.from_user_id === 0"}],staticClass:"avatar-wrap"},[i("img",{attrs:{src:"//static.codehuang.com/upload/avatars/default.png"}})])])])])}))]),t._v(" "),i("chat-option-bar",{on:{"height-change":t.handleHeightChange}})],1)},[],!1,m,"data-v-4b9f39ad",null);e.default=v.exports},GMOA:function(t,e){},IAZU:function(t,e,i){"use strict";var s=i("XyMi");var a=function(t){i("r7Rv")},n=Object(s.a)({props:["pageTitle"],data:function(){return{}},computed:{},components:{}},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("div",{staticClass:"header-left"},[this._t("left")],2),this._v(" "),this._t("middle"),this._v(" "),e("div",{staticClass:"header-right"},[this._t("right")],2)],2)},[],!1,a,"data-v-3fb04dbf",null);e.a=n.exports},WcJj:function(t,e,i){"use strict";var s={name:"content-editable",props:{value:{type:String,default:""},canEdit:{type:Boolean,default:!0}},data:function(){return{innerText:this.value,isLocked:!1}},watch:{value:function(){this.isLocked&&this.innerText||(this.innerText=this.value)}},methods:{input:function(){this.$emit("input",this.$el.innerHTML)}}},a=i("XyMi");var n=function(t){i("dDUR")},c=Object(a.a)(s,function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"content-editable",attrs:{contenteditable:t.canEdit},domProps:{innerHTML:t._s(t.innerText)},on:{focus:function(e){t.isLocked=!0},blur:function(e){t.isLocked=!1},input:t.input}})},[],!1,n,null,null);e.a=c.exports},dDUR:function(t,e){},"jq/r":function(t,e){},oZEg:function(t,e){},r7Rv:function(t,e){},rOtF:function(t,e,i){"use strict";var s=i("XyMi");var a=function(t){i("GMOA")},n=Object(s.a)({components:{},computed:{},methods:{},created:function(){}},function(){var t=this.$createElement;return(this._self._c||t)("section",{staticClass:"container"},[this._t("default")],2)},[],!1,a,"data-v-4792037e",null);e.a=n.exports}});
//# sourceMappingURL=4.998fa662a545d3877516.js.map