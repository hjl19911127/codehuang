webpackJsonp([3],{"/tJ7":function(t,e){},"7la1":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("IAZU"),n=i("rOtF"),a={name:"editDiv",props:{value:{type:String,default:""},canEdit:{type:Boolean,default:!0}},data:function(){return{innerText:this.value}},methods:{handleInput:function(){this.$emit("input",this.$el.innerHTML)}}},c={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"edit-div",attrs:{contenteditable:this.canEdit},domProps:{innerHTML:this._s(this.innerText)},on:{input:this.handleInput}})},staticRenderFns:[]};var o=void 0,r=void 0,l={data:function(){return{inputElementHeight:0,inputText:""}},components:{ChatInput:i("VU/8")(a,c,!1,function(t){i("KbO7")},"data-v-0b248db5",null).exports},watch:{inputElementHeight:function(){var t=this;this.$nextTick(function(){t.$emit("height-change",parseInt(window.getComputedStyle(t.$el).height))})}},computed:{inputWrapHeight:function(){return this.inputElementHeight}},methods:{send:function(){},handleInput:function(t){this.inputElementHeight=parseInt(window.getComputedStyle(o).height)}},mounted:function(){o=document.querySelector(".input-text"),r=parseInt(window.getComputedStyle(o).height),this.inputElementHeight=r}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"option-bar"},[i("div",{staticClass:"input-wrap",style:{height:t.inputWrapHeight+"px"}},[i("chat-input",{staticClass:"input-text",on:{input:t.handleInput},model:{value:t.inputText,callback:function(e){t.inputText=e},expression:"inputText"}}),t._v(" "),i("a",{staticClass:"input-button",class:{disabled:!t.inputText.length},attrs:{href:"javascript:void(0)"},on:{click:t.send}},[t._v("发送")])],1),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"option-button-group"},[e("li",[e("i",{staticClass:"c-icon-audio"})]),this._v(" "),e("li",[e("i",{staticClass:"c-icon-image"})]),this._v(" "),e("li",[e("i",{staticClass:"c-icon-camera"})]),this._v(" "),e("li",[e("i",{staticClass:"c-icon-bonus"})]),this._v(" "),e("li",[e("i",{staticClass:"c-icon-gif"})]),this._v(" "),e("li",[e("i",{staticClass:"c-icon-smile"})]),this._v(" "),e("li",[e("i",{staticClass:"c-icon-add-circle"})])])}]};var u=i("VU/8")(l,d,!1,function(t){i("zOHl")},"data-v-d1c6b7c2",null).exports,h={components:{ChatHeader:s.a,ChatContent:n.a,ChatOptionBar:u},data:function(){return{contentBottomOffset:0,messages:[],total:[],filter:{page:0,size:10}}},computed:{messageGroups:function(){var t=0,e=0,i=[],s=[];return this.messages.forEach(function(n,a){0===a?t=e=n.sendTime:(e=t,(t=n.sendTime)-e>=18e4?(s=s.concat(i),i=[]):i.push(n))}),s}},methods:{showTimeStamp:function(t,e){var i=this.messages[e-1];return!i||t.sendTime-i.sendTime>=18e4},handleReturnBtnClick:function(){this.$router.back()},handleHeightChange:function(t){this.contentBottomOffset=t}},created:function(){var t=0;this.messages=new Array(100).fill(void 0).map(function(e,i){var s=Math.round(Math.random()),n=+new Date;return{id:i+1,from_user_id:s,from_user_name:["老夫子","豆豆儿"][s],to_user_id:+!s,sendTime:n+(t+=18e4*+(i%3==0)),content:"软工 刘峰：明天早上过去\n软工 刘峰：明天早上过去"}})}},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrap"},[i("chat-header",[i("div",{staticClass:"head-title",attrs:{slot:"middle"},slot:"middle"},[i("div",{staticClass:"name"},[t._v("老夫子")]),t._v(" "),i("div",{staticClass:"status"},[t._v("在线")])]),t._v(" "),i("a",{staticClass:"head-btn",attrs:{slot:"left",href:"javascript:void(0)"},on:{click:t.handleReturnBtnClick},slot:"left"},[i("i",{staticClass:"c-icon-arrow-left"})]),t._v(" "),i("a",{staticClass:"head-btn",attrs:{slot:"right",href:"javascript:void(0)"},slot:"right"},[i("i",{staticClass:"c-icon-add"})])]),t._v(" "),i("chat-content",{style:t.contentBottomOffset?{bottom:t.contentBottomOffset+"px"}:{}},[i("div",{staticClass:"message-list"},t._l(t.messages,function(e,s){return i("div",{key:e.id,class:{"is-mine":0===e.from_user_id}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showTimeStamp(e,s),expression:"showTimeStamp(item,index)"}],staticClass:"message-time"},[t._v(t._s(t._f("time")(e.sendTime,"HH:mm")))]),t._v(" "),i("div",{staticClass:"message-item"},[i("div",{staticClass:"message-item-block block-left"},[i("div",{directives:[{name:"show",rawName:"v-show",value:0!==e.from_user_id,expression:"item.from_user_id !== 0"}],staticClass:"avatar-wrap"},[i("img",{attrs:{src:"//static.codehuang.com/upload/avatars/default.png"}})])]),t._v(" "),i("div",{staticClass:"message-item-block block-center"},[i("div",{staticClass:"message-content-wrap"},[i("div",{staticClass:"message-content"},[t._v(t._s(e.content))])])]),t._v(" "),i("div",{staticClass:"message-item-block block-right"},[i("div",{directives:[{name:"show",rawName:"v-show",value:0===e.from_user_id,expression:"item.from_user_id === 0"}],staticClass:"avatar-wrap"},[i("img",{attrs:{src:"//static.codehuang.com/upload/avatars/default.png"}})])])])])}))]),t._v(" "),i("chat-option-bar",{on:{"height-change":t.handleHeightChange}})],1)},staticRenderFns:[]};var v=i("VU/8")(h,m,!1,function(t){i("ZEcM")},"data-v-30e1df8a",null);e.default=v.exports},IAZU:function(t,e,i){"use strict";var s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("div",{staticClass:"header-left"},[this._t("left")],2),this._v(" "),this._t("middle"),this._v(" "),e("div",{staticClass:"header-right"},[this._t("right")],2)],2)},staticRenderFns:[]};var n=i("VU/8")({props:["pageTitle"],data:function(){return{}},computed:{},components:{}},s,!1,function(t){i("/tJ7")},"data-v-9dc744c4",null);e.a=n.exports},KbO7:function(t,e){},ZEcM:function(t,e){},rOtF:function(t,e,i){"use strict";var s={render:function(){var t=this.$createElement;return(this._self._c||t)("section",{staticClass:"container"},[this._t("default")],2)},staticRenderFns:[]};var n=i("VU/8")({components:{},computed:{},methods:{},created:function(){}},s,!1,function(t){i("sK5x")},"data-v-22801df6",null);e.a=n.exports},sK5x:function(t,e){},zOHl:function(t,e){}});
//# sourceMappingURL=3.4326528d3f80ccfa9a69.js.map