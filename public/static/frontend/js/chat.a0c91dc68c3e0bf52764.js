webpackJsonp([16],{"+cD3":function(t,e,n){"use strict";(function(t){var i=n("7+uW"),a=n("/ocq"),o=n("Cxcp");i.default.use(a.a);var s=new a.a({mode:"history",base:t,routes:o.a});e.a=s}).call(e,"/")},0:function(t,e){},"4nT3":function(t,e){},Cxcp:function(t,e,n){"use strict";function i(t){n("4nT3")}function a(t){n("dN7A")}var o=n("Dd8w"),s=n.n(o),r=n("NYxO"),c=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),u=0,l="ontouchstart"in window,d=l?{down:"touchstart",move:"touchmove",up:"touchend",over:"touchstart",out:"touchend"}:{down:"mousedown",move:"mousemove",up:"mouseup",over:"mouseover",out:"mouseout"},h={props:{action:Object,enable:Boolean,container:Object},data:function(){return{visible:!1,pos:0,moving:!1,willChange:!1}},methods:{handleMaskClick:function(){this.moving||this.$emit("mask-click")}},watch:{action:function(t){this.visible=t.visible,this.pos=t.visible?u:0,this.moving=!0}},computed:{opacity:function(){return.4*this.pos/u||0}},mounted:function(){var t=this,e=document,n=void 0,i=void 0,a=void 0,o=void 0,s=void 0,r=void 0,l=void 0,h=void 0,m=void 0,f=!1;u=Math.floor(.75*parseInt(window.getComputedStyle(this.$el).width));var v=function(t){this.enable&&(f=!1,r=o=t.clientX||t.changedTouches[0].clientX,s=t.clientY||t.changedTouches[0].clientY,i=+new Date,m=this.pos,this.willChange=!0,e.addEventListener(d.move,p,!!c&&{passive:!0}),e.addEventListener(d.up,g,!!c&&{passive:!0}),this.$emit("slide-start",this.pos))}.bind(this),p=function(t){n=i,i=+new Date,h=r,r=t.clientX||t.changedTouches[0].clientX,l=t.clientY||t.changedTouches[0].clientY,a=(r-h)/(i-n);var e=m+r-o;e=Math.min(u,e),e=Math.max(0,e),Math.abs(l-s)/Math.abs(r-o)>Math.sqrt(3)/3&&(f=!0),f||(c||t.preventDefault(),this.pos=e,this.$emit("slide-move",e))}.bind(this),g=function(t){if(!f){var n=this.pos;this.visible=a>0?(u-n)/a<500||n>3*u/5:!((0-n)/a<500||n<3*u/5),this.pos>0&&this.pos<u&&(this.moving=!0),this.pos=this.visible?u:0,this.$emit("slide-end",n,this.visible)}e.removeEventListener(d.move,p,!!c&&{passive:!0}),e.removeEventListener(d.up,g,!!c&&{passive:!0})}.bind(this);"transitionend webkitTransitionEnd msTransitionEnd otransitionend oTransitionEnd".split(" ").forEach(function(e){t.$el.addEventListener(e,function(){t.moving=!1,t.willChange=!1,t.pos=t.visible?u:0},!1)}),e.addEventListener(d.down,v,!!c&&{passive:!0})}},m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"side-menu"},[n("div",{staticClass:"menu-inner",class:{"will-change":t.willChange,moving:t.moving},style:{transform:"translateX("+Math.ceil(t.pos/3)+"px)"}},[t._v("xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\n  ")]),t._v(" "),n("div",{staticClass:"full-screen",class:{"will-change":t.willChange,moving:t.moving},style:{transform:"translateX("+t.pos+"px)"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.pos,expression:"pos"}],staticClass:"full-screen menu-mask",style:{opacity:t.opacity},on:{click:t.handleMaskClick}}),t._v(" "),t._t("default")],2)])},f=[],v={render:m,staticRenderFns:f},p=v,g=n("VU/8"),E=i,S=g(h,p,!1,E,"data-v-6b13a2cc",null),w=S.exports,_=history.state,b="forward",M={data:function(){return{transitionName:"slide-forward"}},watch:{$route:function(t,e){var n="";n=_||history.state?history.state&&!_?"forward":_&&!history.state?"back":_&&+_.key>+history.state.key?"back":_&&+_.key==+history.state.key?"back"===b?"forward":"back":"forward":"forward",this.transitionName="slide-"+n,_=history.state||_,b=n}},methods:{handleMaskClick:function(){this.$store.dispatch("SWITCH_SIDE_MENU",!1)},handleSlideStart:function(t){},handleSlideMove:function(t){},handleSlideEnd:function(t,e){}},components:{ChatSideMenu:w},computed:s()({},Object(r.b)(["sideMenuEnable","sideMenuAction"]))},y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app"},[n("chat-side-menu",{attrs:{action:t.sideMenuAction,enable:t.sideMenuEnable},on:{"slide-start":t.handleSlideStart,"slide-move":t.handleSlideMove,"slide-end":t.handleSlideEnd,"mask-click":t.handleMaskClick}},[n("transition",{attrs:{name:t.transitionName}},[n("router-view",{staticClass:"full-screen main-content"})],1)],1)],1)},x=[],I={render:y,staticRenderFns:x},T=I,N=n("VU/8"),k=a,D=N(M,T,!1,k,null,null),C=D.exports,A=function(t){return n.e(0).then(function(){var e=[n("D9sZ")];t.apply(null,e)}.bind(this)).catch(n.oe)},O=function(t){return n.e(3).then(function(){var e=[n("7la1")];t.apply(null,e)}.bind(this)).catch(n.oe)},U=function(t){return n.e(1).then(function(){var e=[n("xJkm")];t.apply(null,e)}.bind(this)).catch(n.oe)},L=function(t){return n.e(2).then(function(){var e=[n("GpND")];t.apply(null,e)}.bind(this)).catch(n.oe)},H=function(t){return n.e(7).then(function(){var e=[n("J1ah")];t.apply(null,e)}.bind(this)).catch(n.oe)};e.a=[{path:"/sign",name:"sign",component:H},{path:"",component:C,meta:{auth:!1},children:[{path:"",component:{template:"<div><router-view></router-view></div>"},children:[{path:"message",name:"message",component:A},{path:"contact",name:"contact",component:U},{path:"activity",name:"activity",component:L}]},{path:"message/:mid",name:"messageDetail",component:O}]}]},YkRm:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("router-view")},a=[],o={render:i,staticRenderFns:a},s=o,r=n("VU/8"),c=r(null,s,!1,null,null,null);e.a=c.exports},dN7A:function(t,e){},fwBT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(n("uMhA"),n("MU8w"),n("rplX"),n("7+uW")),a=n("YkRm"),o=n("+cD3"),s=n("NYxO"),r=n("mvHQ"),c=n.n(r),u=n("vLgD"),l={get:function(t){return Object(u.a)({method:"get",url:"/api/sessions",data:t})}},d=l,h={SET_SKIN:function(t,e){var n=t.commit,i=(t.dispatch,t.state,e.skin),a=JSON.parse(localStorage.getItem("systemSetting")||0);a?(a.skin=i,localStorage.setItem("systemSetting",c()(a))):a={skin:i},localStorage.setItem("systemSetting",c()(a)),n("SET_SKIN",i)},GET_SKIN:function(t){var e=t.commit,n=(t.dispatch,t.state,JSON.parse(localStorage.getItem("systemSetting")||0));console.log(n),n&&e("SET_SKIN",n.skin)},GET_SESSION:function(t){var e=t.commit,n=(t.dispatch,t.state);d.get(n.auth).then(function(t){e("SET_SESSION",t)})},SET_NAVIGATION_DIRECTION:function(t,e){var n=t.commit;t.dispatch,t.state;n("SET_NAVIGATION_DIRECTION",e.direction)},SWITCH_SIDE_MENU:function(t,e){var n=t.commit;t.dispatch,t.state;n("SWITCH_SIDE_MENU",e)},UPDATE_SIDE_MENU_VISIBLE_STATUS:function(t,e){var n=t.commit;t.dispatch,t.state;n("UPDATE_SIDE_MENU_VISIBLE_STATUS",e)},SET_SIDE_MENU_ENABLE:function(t,e){var n=t.commit;t.dispatch,t.state;n("SET_SIDE_MENU_ENABLE",e)}},m={getShowMenu:function(t,e){return t.showMenu},getSkin:function(t,e){return t.skin},getSession:function(t,e){return t.session},transitionName:function(t,e){return"slide-"+t.navigationDirection},sideMenuVisible:function(t){return t.sideMenu.visible},sideMenuEnable:function(t){return t.sideMenu.enable},sideMenuAction:function(t){return t.sideMenu.action}},f={SET_NAVIGATION_DIRECTION:function(t,e){t.navigationDirection=e},SWITCH_SIDE_MENU:function(t,e){t.sideMenu.action={visible:e}},SET_SIDE_MENU_ENABLE:function(t,e){t.sideMenu.enable=e},UPDATE_SIDE_MENU_VISIBLE_STATUS:function(t,e){t.sideMenu.nowVisible=e}},v={skin:"green",auth:null,session:null,navigationDirection:"forward",sideMenu:{nowVisible:!1,enable:!0,action:null}};i.default.use(s.a);var p=new s.a.Store({state:v,actions:h,getters:m,mutations:f});n("hcNg");n("v5o6").attach(document.body),i.default.config.productionTip=!1,i.default.filter("time",function(t,e){var n=void 0;return n="number"==typeof t?new Date(t):new Date(t.replace(/-/g,"/")),e.replace(/HH/g,n.getHours()).replace(/hh/g,n.getHours()>12?n.getHours()-12:n.getHours()).replace(/mm/g,("00"+n.getMinutes()).substr(("00"+n.getMinutes()).length-2,2)).replace(/ss/g,n.getSeconds())}),new i.default({router:o.a,store:p,render:function(t){return t(a.a)}}).$mount("#app")},hcNg:function(t,e){Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(t){if(null==this)throw new TypeError("this is null or not defined");for(var e=Object(this),n=e.length>>>0,i=arguments[1],a=i>>0,o=a<0?Math.max(n+a,0):Math.min(a,n),s=arguments[2],r=void 0===s?n:s>>0,c=r<0?Math.max(n+r,0):Math.min(r,n);o<c;)e[o]=t,o++;return e}})},uMhA:function(t,e){},vLgD:function(t,e,n){"use strict";var i=n("//Fk"),a=n.n(i),o=n("mvHQ"),s=n.n(o),r=n("woOf"),c=n.n(r),u=n("fZjL"),l=n.n(u),d=n("Zrlr"),h=n.n(d),m=n("wxAW"),f=n.n(m),v=function(){function t(){var e=this;h()(this,t),this.defaults={method:"get",headers:{Accept:"application/json"}},this.defaultsMethodHeaders={},["delete","get","head"].forEach(function(t){e.defaultsMethodHeaders[t]={}}),["post","put","patch"].forEach(function(t){e.defaultsMethodHeaders[t]={"Content-Type":"application/json;charset=utf-8"}})}return f()(t,[{key:"_formatQueryString",value:function(t){return l()(t).filter(function(e){return void 0!==t[e]}).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}},{key:"get",value:function(t){return this.request({url:t})}},{key:"post",value:function(t,e){return this.request({url:t,data:e,method:"post"})}},{key:"request",value:function(t){t=c()({},this.defaults,t),t.method=t.method.toLowerCase(),!1===t.cache&&(t.params=t.params||{},t.params._=+new Date);var e=t.url+(t.params?(~t.url.indexOf("?")?"&":"?")+this._formatQueryString(t.params):""),n={method:t.method,headers:c()({},t.headers,this.defaultsMethodHeaders[t.method]),body:s()(t.data)};return new a.a(function(t,i){fetch(e,n).then(function(e){t(e.json())})})}}]),t}(),p=new v;e.a=p.request.bind(p)}},["fwBT"]);
//# sourceMappingURL=chat.a0c91dc68c3e0bf52764.js.map