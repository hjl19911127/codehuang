webpackJsonp([6],{"01fQ":function(e,t){},qMLn:function(e,t,a){"use strict";var n=a("vLgD"),i="//api.codehuang.com/v1/articles";t.a={query:function(e){return Object(n.a)({method:"get",url:i,params:e})},get:function(e){return Object(n.a)({method:"get",url:i+"/"+e,cache:!1})},create:function(e){return Object(n.a)({method:"post",url:i,data:e})},update:function(e,t){return Object(n.a)({method:"put",url:i+"/"+e,data:t})},remove:function(e){return Object(n.a)({method:"delete",url:i+"/"+e})}}},xhwY:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("qMLn"),i={data:function(){return{multipleSelection:[],isLoading:!1,filter:{title:"",type:0,page:1,size:10},articles:{items:[],count:0}}},methods:{init:function(){this.query()},remove:function(e){var t=this;this.$confirm("此操作将永久删除该文章, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.a.remove(e).then(function(e){t.filter.page=0,t.query(),t.$message({type:"success",message:"删除成功!"})}).catch(function(e){})}).catch(function(){})},query:function(){var e=this;this.isLoading=!0,n.a.query(this.filter).then(function(t){e.articles.items=t.items,e.articles.count=t.count,e.isLoading=!1}).catch(function(e){})},search:function(){this.filter.page=1,this.query()},handleSizeChange:function(e){this.filter.size=e,this.search()},handleCurrentChange:function(e){this.filter.page=e,this.query()},handleSelectionChange:function(e){this.multipleSelection=e},batchRemove:function(){}},created:function(){this.init()}},l=a("XyMi");var r=function(e){a("01fQ")},o=Object(l.a)(i,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}]},[a("el-row",{staticClass:"toolbar"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.filter}},[a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{attrs:{placeholder:"标题"},model:{value:e.filter.title,callback:function(t){e.$set(e.filter,"title",t)},expression:"filter.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文章类型"}},[a("el-select",{attrs:{placeholder:"文章类型"},model:{value:e.filter.type,callback:function(t){e.$set(e.filter,"type",t)},expression:"filter.type"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),e._v(" "),a("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.search}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"pull-right"},[a("router-link",{attrs:{to:{name:"articleCreate"}}},[a("el-button",{attrs:{type:"primary",icon:"plus"}},[e._v("添加文章")])],1)],1)],1)],1),e._v(" "),a("el-row",{staticClass:"contentBar"},[a("el-table",{attrs:{data:e.articles.items,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"updated_at",label:"更新时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"is_online",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{directives:[{name:"show",rawName:"v-show",value:t.row.is_top,expression:"scope.row.is_top"}]},[e._v("置顶")]),e._v(" "),a("el-tag",{directives:[{name:"show",rawName:"v-show",value:t.row.is_online,expression:"scope.row.is_online"}],attrs:{type:"success"}},[e._v("上线")]),e._v(" "),a("el-tag",{directives:[{name:"show",rawName:"v-show",value:!t.row.is_online,expression:"!scope.row.is_online"}],attrs:{type:"danger"}},[e._v("下线")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:"/article/"+t.row.id}},[a("el-button",{attrs:{type:"primary",size:"small",plain:""}},[e._v("编辑")])],1),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.remove(t.row.id)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("el-row",{staticClass:"toolbar"},[a("el-button",{attrs:{plain:!0,type:"danger",icon:"delete",disabled:!e.multipleSelection.length},on:{click:e.batchRemove}},[e._v("\n      批量删除\n    ")]),e._v(" "),a("el-pagination",{staticClass:"pull-right",attrs:{"current-page":e.filter.page,"page-sizes":[5,10,15,20],"page-size":e.filter.size,layout:"total, sizes, prev, pager, next, jumper",total:e.articles.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},[],!1,r,null,null);t.default=o.exports}});
//# sourceMappingURL=6.4b6eaf1e3e5528396ad7.js.map