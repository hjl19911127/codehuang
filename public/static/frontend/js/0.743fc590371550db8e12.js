webpackJsonp([0],{"+66z":function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},"+X65":function(t,e,n){var o=n("O4Lo"),i=n("yCNF"),r="Expected a function";t.exports=function(t,e,n){var a=!0,u=!0;if("function"!=typeof t)throw new TypeError(r);return i(n)&&(a="leading"in n?!!n.leading:a,u="trailing"in n?!!n.trailing:u),o(t,e,{leading:a,maxWait:e,trailing:u})}},"2zAF":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("vLgD"),i="//api.codehuang.com/v1/seek",r={uploadData:function(t){return Object(o.a)({method:"post",url:i+"/data",data:t})},getUserGameData:function(t){return Object(o.a)({method:"get",url:i,params:t})}},a=n("+X65"),u=n.n(a),s=0,c=0,f=0,l=[],p={data:function(){return{speed:1,map:{x:0,y:0},players:[],player:{x:0,y:0}}},computed:{},methods:{upload:function(t){return l.push(t),this.uploader=this.uploader||u()(function(){l.length&&r.uploadData(l).then(function(){l=[]})},5e3),this.uploader()},startMoving:function(){var t=this;this.movement=requestAnimationFrame(function(){!function e(){var n=t.player,o=t.map,i=t.speed,r=s-n.x,a=c-n.y;if(Math.sqrt(r*r+a*a)<f/2)return t.movement=null,void(t.speed=1);var u=r&&r/Math.abs(r),l=a&&a/Math.abs(a);r=Math.abs(r),a=Math.abs(a);var p=void 0;if(0===r)o.y+=l*i;else if(0===a)o.x+=u*i;else{p=Math.abs(r/a);var v=i*Math.sin(Math.atan2(a,r));o.x+=u*v*p,o.y+=l*v,t.upload({x:o.x,y:o.y})}t.movement=requestAnimationFrame(function(){i<5&&(t.speed+=5/(5e3/60)),e()})}()})},handleMouseMove:function(t){s=t.clientX,c=t.clientY,this.movement||this.startMoving()},handleMouseLeave:function(t){this.movement&&cancelAnimationFrame(this.movement),this.movement=null}},components:{},mounted:function(){var t=document.querySelector(".player");f=parseInt(window.getComputedStyle(t).width),this.player.x=parseInt(window.getComputedStyle(t).left)+f/2,this.player.y=parseInt(window.getComputedStyle(t).top)+f/2}},v=n("XyMi");var d=function(t){n("nS22")},m=Object(v.a)(p,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"arena"},[e("div",{staticClass:"scene",on:{mousemove:this.handleMouseMove,mouseleave:this.handleMouseLeave}},[e("div",{staticClass:"map",style:{transform:"translate3d("+-this.map.x+"px,"+-this.map.y+"px,0)"}}),this._v(" "),e("div",{staticClass:"player"})])])},[],!1,d,"data-v-135706c4",null);e.default=m.exports},"6MiT":function(t,e,n){var o=n("aCM0"),i=n("UnEC"),r="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||i(t)&&o(t)==r}},NkRn:function(t,e,n){var o=n("TQ3y").Symbol;t.exports=o},O4Lo:function(t,e,n){var o=n("yCNF"),i=n("RVHk"),r=n("kxzG"),a="Expected a function",u=Math.max,s=Math.min;t.exports=function(t,e,n){var c,f,l,p,v,d,m=0,h=!1,y=!1,x=!0;if("function"!=typeof t)throw new TypeError(a);function b(e){var n=c,o=f;return c=f=void 0,m=e,p=t.apply(o,n)}function g(t){var n=t-d;return void 0===d||n>=e||n<0||y&&t-m>=l}function M(){var t=i();if(g(t))return j(t);v=setTimeout(M,function(t){var n=e-(t-d);return y?s(n,l-(t-m)):n}(t))}function j(t){return v=void 0,x&&c?b(t):(c=f=void 0,p)}function O(){var t=i(),n=g(t);if(c=arguments,f=this,d=t,n){if(void 0===v)return function(t){return m=t,v=setTimeout(M,e),h?b(t):p}(d);if(y)return v=setTimeout(M,e),b(d)}return void 0===v&&(v=setTimeout(M,e)),p}return e=r(e)||0,o(n)&&(h=!!n.leading,l=(y="maxWait"in n)?u(r(n.maxWait)||0,e):l,x="trailing"in n?!!n.trailing:x),O.cancel=function(){void 0!==v&&clearTimeout(v),m=0,c=d=f=v=void 0},O.flush=function(){return void 0===v?p:j(i())},O}},RVHk:function(t,e,n){var o=n("TQ3y");t.exports=function(){return o.Date.now()}},TQ3y:function(t,e,n){var o=n("blYT"),i="object"==typeof self&&self&&self.Object===Object&&self,r=o||i||Function("return this")();t.exports=r},UnEC:function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},aCM0:function(t,e,n){var o=n("NkRn"),i=n("uLhX"),r=n("+66z"),a="[object Null]",u="[object Undefined]",s=o?o.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?u:a:s&&s in Object(t)?i(t):r(t)}},blYT:function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,n("DuR2"))},kxzG:function(t,e,n){var o=n("yCNF"),i=n("6MiT"),r=NaN,a=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return r;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=s.test(t);return n||c.test(t)?f(t.slice(2),n?2:8):u.test(t)?r:+t}},nS22:function(t,e){},uLhX:function(t,e,n){var o=n("NkRn"),i=Object.prototype,r=i.hasOwnProperty,a=i.toString,u=o?o.toStringTag:void 0;t.exports=function(t){var e=r.call(t,u),n=t[u];try{t[u]=void 0;var o=!0}catch(t){}var i=a.call(t);return o&&(e?t[u]=n:delete t[u]),i}},yCNF:function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}}});
//# sourceMappingURL=0.743fc590371550db8e12.js.map