{"version":3,"sources":["webpack:///src/sites/chat/components/Input.vue","webpack:///./src/sites/chat/components/Input.vue?d933","webpack:///./src/sites/chat/components/Input.vue","webpack:///src/sites/chat/components/OptionBar.vue","webpack:///./src/sites/chat/components/OptionBar.vue?c8f4","webpack:///./src/sites/chat/components/OptionBar.vue","webpack:///src/sites/chat/views/Dialog.vue","webpack:///./src/sites/chat/views/Dialog.vue?34a2","webpack:///./src/sites/chat/views/Dialog.vue","webpack:///src/sites/chat/components/Header.vue","webpack:///./src/sites/chat/components/Header.vue?0dd9","webpack:///./src/sites/chat/components/Header.vue","webpack:///src/sites/chat/components/Content.vue","webpack:///./src/sites/chat/components/Content.vue?d5fd","webpack:///./src/sites/chat/components/Content.vue"],"names":["Input","String","Boolean","value","innerHTML","components_Input","render","_h","this","$createElement","_self","_c","staticClass","attrs","contenteditable","canEdit","domProps","_s","innerText","on","input","handleInput","staticRenderFns","inputElement","OptionBar","ChatInput","__webpack_require__","normalizeComponent","ssrContext","_this","height","inputElementHeight","components_OptionBar","_vm","style","inputWrapHeight","model","callback","$$v","inputText","expression","_v","class","disabled","length","href","click","send","_m","chat_components_OptionBar","OptionBar_normalizeComponent","Dialog","ChatHeader","Header","ChatContent","Content","ChatOptionBar","messages","sendTime","time","groupItems","v","allGroup","back","data","random","Date","isMine","views_Dialog","slot","handleReturnBtnClick","contentBottomOffset","bottom","_l","item","index","key","id","is-mine","from_user_id","directives","name","rawName","showTimeStamp","_f","src","content","height-change","handleHeightChange","Dialog_Component","Dialog_normalizeComponent","__webpack_exports__","components_Header","_t","Component","components_Content"],"mappings":"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","file":"static/frontend/js/3.4326528d3f80ccfa9a69.js","sourcesContent":["<template>\n  <div class=\"edit-div\"\n       v-html=\"innerText\"\n       :contenteditable=\"canEdit\"\n       @input=\"handleInput\">\n  </div>\n</template>\n<script>\n  export default {\n    name: 'editDiv',\n    props: {\n      value: {\n        type: String,\n        default: ''\n      },\n      canEdit: {\n        type: Boolean,\n        default: true\n      }\n    },\n    data() {\n      return {\n        innerText: this.value,\n      }\n    },\n    methods: {\n      handleInput() {\n        this.$emit('input', this.$el.innerHTML);\n      }\n    }\n  }\n</script>\n<style lang=\"stylus\" scoped>\n  .edit-div {\n    overflow: auto;\n    word-break: break-all;\n    outline: none;\n    user-select: text;\n    white-space: pre-wrap;\n    text-align: left;\n    &[contenteditable=true] {\n      user-modify: read-write-plaintext-only;\n      &:empty:before {\n        content: attr(placeholder);\n        display: block;\n        color: #ccc;\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/sites/chat/components/Input.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"edit-div\",attrs:{\"contenteditable\":_vm.canEdit},domProps:{\"innerHTML\":_vm._s(_vm.innerText)},on:{\"input\":_vm.handleInput}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0b248db5\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/sites/chat/components/Input.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0b248db5\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Input.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Input.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Input.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0b248db5\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Input.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0b248db5\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sites/chat/components/Input.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"option-bar\">\n    <div class=\"input-wrap\" :style=\"{height:inputWrapHeight+'px'}\">\n      <chat-input class=\"input-text\" v-model=\"inputText\" @input=\"handleInput\"></chat-input>\n      <a href=\"javascript:void(0)\" class=\"input-button\" :class=\"{'disabled':!inputText.length}\"\n         @click=\"send\">发送</a>\n    </div>\n    <ul class=\"option-button-group\">\n      <li><i class=\"c-icon-audio\"></i></li>\n      <li><i class=\"c-icon-image\"></i></li>\n      <li><i class=\"c-icon-camera\"></i></li>\n      <li><i class=\"c-icon-bonus\"></i></li>\n      <li><i class=\"c-icon-gif\"></i></li>\n      <li><i class=\"c-icon-smile\"></i></li>\n      <li><i class=\"c-icon-add-circle\"></i></li>\n    </ul>\n  </div>\n</template>\n\n<script>\n  import ChatInput from './Input'\n\n  let inputElement, inputElementHeight;\n  export default {\n    data() {\n      return {\n        inputElementHeight: 0,\n        inputText: ''\n      }\n    },\n    components: {\n      ChatInput\n    },\n    watch: {\n      'inputElementHeight'() {\n        this.$nextTick(() => {\n          this.$emit('height-change', parseInt(window.getComputedStyle(this.$el).height));\n        })\n      }\n    },\n    computed: {\n      inputWrapHeight() {\n        return this.inputElementHeight;\n      }\n    },\n    methods: {\n      send() {\n\n      },\n      handleInput(data) {\n        this.inputElementHeight = parseInt(window.getComputedStyle(inputElement).height)\n      }\n    },\n    mounted() {\n      inputElement = document.querySelector('.input-text');\n      inputElementHeight = parseInt(window.getComputedStyle(inputElement).height);\n      this.inputElementHeight = inputElementHeight;\n    }\n  }\n</script>\n\n<style lang=\"stylus\" scoped>\n  @import '../assets/stylus/shared/_mixin'\n  .option-bar\n    position absolute\n    left 0\n    right 0\n    bottom 0\n    font-size 0\n    background-color: #f0f2f8\n    border-top 1px solid #f0f2f8\n\n  .input-wrap\n    position: relative\n\n  .input-text\n    float: left\n    position: absolute\n    left: px2rem(10px);\n    bottom: 0\n    border none\n    width: 82%\n    font-size px2rem(32px)\n    min-height: px2rem(76px)\n    line-height px2rem(32px)\n    background-color: #fff\n    max-height px2rem(200px)\n    &::-webkit-scrollbar {\n      display: none;\n    }\n    &:active, &:focus\n      outline none\n\n  .input-button\n    position: absolute\n    right: px2rem(10px);\n    bottom: 0\n    text-align center\n    display: inline-block\n    width: 14%\n    line-height: px2rem(76px)\n    height px2rem(76px)\n    color: #fff\n    background-color: #4ab9f8\n    border-radius px2rem(10px)\n    font-size px2rem(26px)\n\n  .option-button-group\n    line-height px2rem(94px)\n    padding 0\n    li\n      display inline-block\n      vertical-align middle\n      width 14.2857%\n      text-align center\n      color #aaa\n      font-size px2rem(56px)\n      line-height 1\n      &:active\n        color #4ab9f8\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/sites/chat/components/OptionBar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"option-bar\"},[_c('div',{staticClass:\"input-wrap\",style:({height:_vm.inputWrapHeight+'px'})},[_c('chat-input',{staticClass:\"input-text\",on:{\"input\":_vm.handleInput},model:{value:(_vm.inputText),callback:function ($$v) {_vm.inputText=$$v},expression:\"inputText\"}}),_vm._v(\" \"),_c('a',{staticClass:\"input-button\",class:{'disabled':!_vm.inputText.length},attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":_vm.send}},[_vm._v(\"发送\")])],1),_vm._v(\" \"),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"option-button-group\"},[_c('li',[_c('i',{staticClass:\"c-icon-audio\"})]),_vm._v(\" \"),_c('li',[_c('i',{staticClass:\"c-icon-image\"})]),_vm._v(\" \"),_c('li',[_c('i',{staticClass:\"c-icon-camera\"})]),_vm._v(\" \"),_c('li',[_c('i',{staticClass:\"c-icon-bonus\"})]),_vm._v(\" \"),_c('li',[_c('i',{staticClass:\"c-icon-gif\"})]),_vm._v(\" \"),_c('li',[_c('i',{staticClass:\"c-icon-smile\"})]),_vm._v(\" \"),_c('li',[_c('i',{staticClass:\"c-icon-add-circle\"})])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d1c6b7c2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/sites/chat/components/OptionBar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d1c6b7c2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./OptionBar.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OptionBar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OptionBar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d1c6b7c2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./OptionBar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d1c6b7c2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sites/chat/components/OptionBar.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"wrap\">\n    <chat-header>\n      <div class=\"head-title\" slot=\"middle\">\n        <div class=\"name\">老夫子</div>\n        <div class=\"status\">在线</div>\n      </div>\n      <a href=\"javascript:void(0)\" class=\"head-btn\" slot=\"left\" @click=\"handleReturnBtnClick\">\n        <i class=\"c-icon-arrow-left\"></i>\n      </a>\n      <a href=\"javascript:void(0)\" class=\"head-btn\" slot=\"right\">\n        <i class=\"c-icon-add\"></i>\n      </a>\n    </chat-header>\n    <chat-content :style=\"contentBottomOffset?{bottom:contentBottomOffset+'px'}:{}\">\n      <div class=\"message-list\">\n        <div :class=\"{'is-mine':item.from_user_id === 0}\" v-for=\"(item,index) in messages\" :key=\"item.id\">\n          <div class=\"message-time\" v-show=\"showTimeStamp(item,index)\">{{item.sendTime | time('HH:mm')}}</div>\n          <div class=\"message-item\">\n            <div class=\"message-item-block block-left\">\n              <div class=\"avatar-wrap\" v-show=\"item.from_user_id !== 0\">\n                <img src=\"//static.codehuang.com/upload/avatars/default.png\">\n              </div>\n            </div>\n            <div class=\"message-item-block block-center\">\n              <div class=\"message-content-wrap\">\n                <div class=\"message-content\">{{item.content}}</div>\n              </div>\n            </div>\n            <div class=\"message-item-block block-right\">\n              <div class=\"avatar-wrap\" v-show=\"item.from_user_id === 0\">\n                <img src=\"//static.codehuang.com/upload/avatars/default.png\">\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </chat-content>\n    <chat-option-bar @height-change=\"handleHeightChange\"></chat-option-bar>\n  </div>\n</template>\n<script>\n  import ChatHeader from '../components/Header';\n  import ChatContent from '../components/Content';\n  import ChatOptionBar from '../components/OptionBar';\n\n  export default {\n    components: {\n      ChatHeader,\n      ChatContent,\n      ChatOptionBar\n    },\n    data() {\n      return {\n        contentBottomOffset: 0,\n        messages: [],\n        total: [],\n        filter: {\n          page: 0, size: 10\n        }\n      }\n    },\n    computed: {\n      messageGroups() {\n        let items = this.messages;\n        let time = 0, lastTime = 0, groupItems = [], allGroup = [];\n        items.forEach((v, i) => {\n          if (i === 0) {\n            time = lastTime = v.sendTime\n          } else {\n            lastTime = time;\n            time = v.sendTime;\n            if (time - lastTime >= 180000) {\n              allGroup = allGroup.concat(groupItems)\n              groupItems = []\n            } else {\n              groupItems.push(v)\n            }\n          }\n        });\n        return allGroup;\n      }\n    },\n    methods: {\n      showTimeStamp(item, index) {\n        let last = this.messages[index - 1];\n        return !last || item.sendTime - last.sendTime >= 180000\n      },\n      handleReturnBtnClick() {\n        this.$router.back()\n      },\n      handleHeightChange(data) {\n        this.contentBottomOffset = data;\n      }\n    },\n    created() {\n      let timeOffset = 0;\n      this.messages = new Array(100).fill(undefined).map((v, i) => {\n        let isMine = Math.round(Math.random());\n        //2017-07-27 10:26:14\n        let time = +new Date();\n        timeOffset += 180000 * (+(i % 3 === 0));\n        return {\n          id: i + 1,\n          from_user_id: isMine,\n          from_user_name: ['老夫子', '豆豆儿'][isMine],\n          to_user_id: +!isMine,\n          sendTime: time + timeOffset,\n          content: '软工 刘峰：明天早上过去\\n软工 刘峰：明天早上过去'\n        }\n      });\n    }\n  }\n</script>\n<style lang=\"stylus\" scoped>\n  @import '../assets/stylus/shared/_mixin'\n  .wrap {\n    background-color: #f0f2f8;\n  }\n\n  .message-list\n    padding px2rem(30px) 0\n\n  .message-item\n    display: block\n    font-size: 0\n    padding px2rem(24px) 0\n\n  .message-item-block\n    line-height: 1\n    display: inline-block\n    vertical-align: top\n\n  .block-left\n    width 20%\n\n  .block-center\n    width 60%\n\n  .block-right\n    width 20%\n\n  .message-content-wrap\n    padding-right px2rem(30px)\n\n  .message-content\n    color: #000\n    font-size: px2rem(30px)\n    line-height: px2rem(46px)\n    padding px2rem(20px)\n    background-color: #fff\n    border-radius px2rem(30px)\n    white-space pre-wrap\n\n  .is-mine\n    .message-content-wrap\n      padding-right 0\n      padding-left px2rem(30px)\n    .message-content\n      color: #fff\n      background-color: #4ab9f8\n\n  .message-time\n    color: #999\n    font-size: px2rem(20px)\n    line-height: px2rem(84px)\n    text-align: center\n\n  .avatar-wrap\n    margin 0 auto\n    width px2rem(100px)\n    height px2rem(100px)\n    overflow: hidden\n    border-radius 50%\n    img\n      width: 100%\n      height: 100%\n\n  .head-avatar\n    display: inline-block\n    width px2rem(80px)\n    line-height px2rem(80px)\n    overflow: hidden\n    border-radius 50%\n    img\n      width: 100%\n      height: 100%\n\n  .head-btn\n    btnSize = 44px\n    display: inline-block\n    vertical-align middle\n    color: #fff\n    width: px2rem(btnSize)\n    font-size: 0\n    i\n      font-size: px2rem(btnSize)\n\n  .head-title\n    padding-top px2rem(20px)\n    line-height: 1.2\n    color: #fff\n    .name\n      font-size: px2rem(30px)\n    .status\n      font-size: px2rem(20px)\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/sites/chat/views/Dialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('chat-header',[_c('div',{staticClass:\"head-title\",attrs:{\"slot\":\"middle\"},slot:\"middle\"},[_c('div',{staticClass:\"name\"},[_vm._v(\"老夫子\")]),_vm._v(\" \"),_c('div',{staticClass:\"status\"},[_vm._v(\"在线\")])]),_vm._v(\" \"),_c('a',{staticClass:\"head-btn\",attrs:{\"slot\":\"left\",\"href\":\"javascript:void(0)\"},on:{\"click\":_vm.handleReturnBtnClick},slot:\"left\"},[_c('i',{staticClass:\"c-icon-arrow-left\"})]),_vm._v(\" \"),_c('a',{staticClass:\"head-btn\",attrs:{\"slot\":\"right\",\"href\":\"javascript:void(0)\"},slot:\"right\"},[_c('i',{staticClass:\"c-icon-add\"})])]),_vm._v(\" \"),_c('chat-content',{style:(_vm.contentBottomOffset?{bottom:_vm.contentBottomOffset+'px'}:{})},[_c('div',{staticClass:\"message-list\"},_vm._l((_vm.messages),function(item,index){return _c('div',{key:item.id,class:{'is-mine':item.from_user_id === 0}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTimeStamp(item,index)),expression:\"showTimeStamp(item,index)\"}],staticClass:\"message-time\"},[_vm._v(_vm._s(_vm._f(\"time\")(item.sendTime,'HH:mm')))]),_vm._v(\" \"),_c('div',{staticClass:\"message-item\"},[_c('div',{staticClass:\"message-item-block block-left\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.from_user_id !== 0),expression:\"item.from_user_id !== 0\"}],staticClass:\"avatar-wrap\"},[_c('img',{attrs:{\"src\":\"//static.codehuang.com/upload/avatars/default.png\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"message-item-block block-center\"},[_c('div',{staticClass:\"message-content-wrap\"},[_c('div',{staticClass:\"message-content\"},[_vm._v(_vm._s(item.content))])])]),_vm._v(\" \"),_c('div',{staticClass:\"message-item-block block-right\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.from_user_id === 0),expression:\"item.from_user_id === 0\"}],staticClass:\"avatar-wrap\"},[_c('img',{attrs:{\"src\":\"//static.codehuang.com/upload/avatars/default.png\"}})])])])])}))]),_vm._v(\" \"),_c('chat-option-bar',{on:{\"height-change\":_vm.handleHeightChange}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-30e1df8a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/sites/chat/views/Dialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-30e1df8a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Dialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Dialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Dialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-30e1df8a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Dialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-30e1df8a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sites/chat/views/Dialog.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"header\">\n    <div class=\"header-left\">\n      <slot name=\"left\"></slot>\n    </div>\n    <slot name=\"middle\"></slot>\n    <div class=\"header-right\">\n      <slot name=\"right\"></slot>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    props: ['pageTitle'],\n    data() {\n      return {}\n    },\n    computed: {},\n    components: {}\n  }\n</script>\n<style lang=\"stylus\" scoped>\n  @import '../assets/stylus/shared/_mixin'\n  .header\n    position: relative\n    height: px2rem(104px)\n    line-height: px2rem(104px)\n    background-image: linear-gradient(to right, #4f8dfe, #35bafd);\n    text-align: center\n    h1\n      font-size: px2rem(34px)\n      margin: 0\n      font-weight: normal\n      color: #fff\n\n  .header-left\n    position: absolute\n    left: px2rem(24px)\n    top: 0\n\n  .header-right\n    position: absolute\n    right: px2rem(24px)\n    top: 0\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/sites/chat/components/Header.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"header-left\"},[_vm._t(\"left\")],2),_vm._v(\" \"),_vm._t(\"middle\"),_vm._v(\" \"),_c('div',{staticClass:\"header-right\"},[_vm._t(\"right\")],2)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9dc744c4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/sites/chat/components/Header.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9dc744c4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Header.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Header.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Header.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9dc744c4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9dc744c4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sites/chat/components/Header.vue\n// module id = null\n// module chunks = ","<template>\n  <section class=\"container\">\n    <slot></slot>\n  </section>\n</template>\n<script>\n  export default {\n    components: {},\n    computed: {},\n    methods: {},\n    created() {\n    }\n  }\n</script>\n<style lang=\"stylus\" scoped>\n  @import '../assets/stylus/shared/_mixin'\n  .container\n    position: absolute\n    top: px2rem(104px)\n    bottom px2rem(112px)\n    left: 0\n    right: 0\n    overflow: auto\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/sites/chat/components/Content.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"container\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-22801df6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/sites/chat/components/Content.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-22801df6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Content.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Content.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Content.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-22801df6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Content.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-22801df6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/sites/chat/components/Content.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}